<FilesMatch "\.(htaccess|htpasswd|ini|ini.php|log|sh|inc|bak|save)$">
Order Allow,Deny
Deny from all
</FilesMatch>

# Enable rewrite engine
RewriteEngine On

# Route API requests to the backend (handle both /api/ and /supermon-ng/api/)
RewriteCond %{REQUEST_URI} ^/supermon-ng/api/ [OR]
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^.*$ public/index.php [QSA,L]

# Serve Vue app for all other requests
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/hamclock/
RewriteCond %{REQUEST_URI} !^/supermon-ng/api/
RewriteCond %{REQUEST_URI} !^/api/
RewriteRule ^ index.php [QSA,L]

