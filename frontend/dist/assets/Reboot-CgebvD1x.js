import{r as b,w as k,f as n,l as u,k as a,g as e,C as c,t as d,h as x}from"./vendor-BDu8AGUg.js";import{_ as R,a as S}from"./index-Cd0Rm2MK.js";const C={class:"modal-body"},E={key:0,class:"confirmation"},T={key:1,class:"loading"},V={key:2,class:"result"},B={key:0,class:"success-result"},N={class:"result-details"},F={key:1,class:"error-result"},D={__name:"Reboot",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(m,{emit:p}){const f=m,g=p,i=b(!1),t=b(null);k(()=>f.isVisible,o=>{o||v()});const r=()=>{g("update:isVisible",!1),v()},v=()=>{i.value=!1,t.value=null},y=async()=>{var o,s;i.value=!0,t.value=null;try{const l=await S.post("/nodes/reboot");l.data.success?t.value={success:!0,...l.data.data}:t.value={success:!1,message:l.data.message||"Failed to execute server reboot"}}catch(l){console.error("Reboot error:",l),t.value={success:!1,message:((s=(o=l.response)==null?void 0:o.data)==null?void 0:s.message)||"Failed to execute server reboot"}}finally{i.value=!1}},w=o=>o?new Date(o).toLocaleString():"";return(o,s)=>m.isVisible?(a(),n("div",{key:0,class:"modal-overlay",onClick:r},[e("div",{class:"modal-content",onClick:s[0]||(s[0]=x(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[1]||(s[1]=e("h3",null,"Server Reboot",-1)),e("button",{class:"close-button",onClick:r},"√ó")]),e("div",C,[!i.value&&!t.value?(a(),n("div",E,[s[2]||(s[2]=e("div",{class:"warning-icon"},"‚ö†Ô∏è",-1)),s[3]||(s[3]=e("h4",null,"Confirm Server Reboot",-1)),s[4]||(s[4]=e("p",{class:"warning-text"},[c(" You are about to "),e("strong",null,"REBOOT THE ENTIRE SERVER"),c(". ")],-1)),s[5]||(s[5]=e("p",{class:"warning-text"}," This will immediately restart the system. All active connections, services, and processes will be terminated. ",-1)),s[6]||(s[6]=e("p",{class:"warning-text"},[e("strong",null,"This action cannot be undone and will cause system downtime!")],-1)),e("div",{class:"confirmation-actions"},[e("button",{onClick:y,class:"reboot-button"}," üöÄ Execute Server Reboot "),e("button",{onClick:r,class:"cancel-button"}," Cancel ")])])):u("",!0),i.value?(a(),n("div",T,[...s[7]||(s[7]=[e("div",{class:"spinner"},null,-1),e("h4",null,"Executing Server Reboot...",-1),e("p",null,"Please wait while the reboot command is being sent to the system.",-1),e("p",{class:"note"},"The system will restart immediately after the command is executed.",-1)])])):u("",!0),t.value?(a(),n("div",V,[t.value.success?(a(),n("div",B,[s[9]||(s[9]=e("div",{class:"success-icon"},"‚úÖ",-1)),s[10]||(s[10]=e("h4",null,"Server Reboot Executed Successfully",-1)),e("p",null,d(t.value.message),1),e("div",N,[e("p",null,[s[8]||(s[8]=e("strong",null,"Timestamp:",-1)),c(" "+d(w(t.value.timestamp)),1)])]),s[11]||(s[11]=e("div",{class:"reboot-notice"},[e("p",null,[e("strong",null,"System Status:"),c(" The server is now rebooting. You will lose connection to this interface.")]),e("p",null,"Please wait for the system to fully restart before attempting to reconnect.")],-1))])):(a(),n("div",F,[s[12]||(s[12]=e("div",{class:"error-icon"},"‚ùå",-1)),s[13]||(s[13]=e("h4",null,"Server Reboot Failed",-1)),e("p",null,d(t.value.message),1)])),e("div",{class:"result-actions"},[e("button",{onClick:r,class:"close-result-button"}," Close ")])])):u("",!0)])])])):u("",!0)}},O=R(D,[["__scopeId","data-v-d712169c"]]);export{O as default};
//# sourceMappingURL=Reboot-CgebvD1x.js.map
