import{e as N,r as m,w as E,o as U,f,l as b,k as V,g as e,t as _,h as S,C as o,i as n,O as u,v as k}from"./vendor-BDu8AGUg.js";import{a as C,_ as F}from"./index-ixAHyd21.js";const M={key:0,class:"error-message"},O={class:"display-config-table"},B={valign:"top"},L={valign:"top"},Y={valign:"top"},T={valign:"top"},A={valign:"top"},P=N({__name:"DisplayConfig",props:{open:{type:Boolean}},emits:["update:open","settings-updated"],setup(y,{emit:x}){const v=y,g=x,a=m({show_detailed:"1",show_date_time:"1",show_number:"0",show_all:"1",number_displayed:"0"}),p=m(!1),t=m(""),r=()=>{g("update:open",!1),t.value=""},w=async()=>{var d,l;try{p.value=!0,t.value="";const s=await C.get("/config/display");if(s.data.success){const i=s.data.data;a.value={show_detailed:i["show-detailed"]||"1",show_date_time:i["show-date-time"]||"1",show_number:i["show-number"]||"0",show_all:i["show-all"]||"1",number_displayed:i["number-displayed"]||"0"}}else t.value=s.data.message||"Failed to load display settings"}catch(s){const i=s;t.value=((l=(d=i.response)==null?void 0:d.data)==null?void 0:l.message)||"Failed to load display settings. Please try again.",console.error("Failed to load display settings:",s)}finally{p.value=!1}},D=async()=>{var d,l;try{p.value=!0,t.value="";const s=await C.put("/config/display",{show_detailed:a.value.show_detailed,show_date_time:a.value.show_date_time,show_number:a.value.show_number,show_all:a.value.show_all,number_displayed:a.value.number_displayed});s.data.success?(g("settings-updated",s.data.data),r()):t.value=s.data.message||"Failed to save display settings"}catch(s){const i=s;t.value=((l=(d=i.response)==null?void 0:d.data)==null?void 0:l.message)||"Failed to save display settings. Please try again.",console.error("Failed to save display settings:",s)}finally{p.value=!1}};return E(()=>v.open,d=>{d&&w()}),U(()=>{v.open&&w()}),(d,l)=>y.open?(V(),f("div",{key:0,class:"display-config-modal",onClick:r},[e("div",{class:"display-config-content",onClick:l[9]||(l[9]=S(()=>{},["stop"]))},[e("div",{class:"display-config-header"},[l[10]||(l[10]=e("h2",null,"Supermon Display Settings",-1)),e("button",{class:"close-button",onClick:r},"Ã—")]),t.value?(V(),f("div",M,[e("p",null,_(t.value),1)])):b("",!0),e("form",{onSubmit:S(D,["prevent"]),class:"display-config-form"},[e("table",O,[e("tbody",null,[e("tr",null,[e("td",B,[l[11]||(l[11]=o(" Display Detailed View",-1)),l[12]||(l[12]=e("br",null,null,-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-top",name:"show_detailed",value:"1","onUpdate:modelValue":l[0]||(l[0]=s=>a.value.show_detailed=s)},null,512),[[u,a.value.show_detailed]]),l[13]||(l[13]=o(" YES ",-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-spaced",name:"show_detailed",value:"0","onUpdate:modelValue":l[1]||(l[1]=s=>a.value.show_detailed=s)},null,512),[[u,a.value.show_detailed]]),l[14]||(l[14]=o(" NO",-1)),l[15]||(l[15]=e("br",null,null,-1))])]),e("tr",null,[e("td",L,[l[16]||(l[16]=o(" Show Date/Time Display",-1)),l[17]||(l[17]=e("br",null,null,-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-top",name:"show_date_time",value:"1","onUpdate:modelValue":l[2]||(l[2]=s=>a.value.show_date_time=s)},null,512),[[u,a.value.show_date_time]]),l[18]||(l[18]=o(" YES ",-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-spaced",name:"show_date_time",value:"0","onUpdate:modelValue":l[3]||(l[3]=s=>a.value.show_date_time=s)},null,512),[[u,a.value.show_date_time]]),l[19]||(l[19]=o(" NO",-1)),l[20]||(l[20]=e("br",null,null,-1))])]),e("tr",null,[e("td",Y,[l[21]||(l[21]=o(" Show the number of connections (Displays x of y)",-1)),l[22]||(l[22]=e("br",null,null,-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-top",name:"show_number",value:"1","onUpdate:modelValue":l[4]||(l[4]=s=>a.value.show_number=s)},null,512),[[u,a.value.show_number]]),l[23]||(l[23]=o(" YES ",-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-spaced",name:"show_number",value:"0","onUpdate:modelValue":l[5]||(l[5]=s=>a.value.show_number=s)},null,512),[[u,a.value.show_number]]),l[24]||(l[24]=o(" NO",-1)),l[25]||(l[25]=e("br",null,null,-1))])]),e("tr",null,[e("td",T,[l[26]||(l[26]=o(" Show ALL Connections (NO omits NEVER Keyed)",-1)),l[27]||(l[27]=e("br",null,null,-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-top",name:"show_all",value:"1","onUpdate:modelValue":l[6]||(l[6]=s=>a.value.show_all=s)},null,512),[[u,a.value.show_all]]),l[28]||(l[28]=o(" YES ",-1)),n(e("input",{type:"radio",class:"display-config-radio display-config-radio-spaced",name:"show_all",value:"0","onUpdate:modelValue":l[7]||(l[7]=s=>a.value.show_all=s)},null,512),[[u,a.value.show_all]]),l[29]||(l[29]=o(" NO",-1)),l[30]||(l[30]=e("br",null,null,-1))])]),e("tr",null,[e("td",A,[l[31]||(l[31]=o(" Maximum Number of Connections to Display in Each Node (0=ALL)",-1)),l[32]||(l[32]=e("br",null,null,-1)),l[33]||(l[33]=e("br",null,null,-1)),n(e("input",{type:"text",class:"display-config-input",name:"number_displayed","onUpdate:modelValue":l[8]||(l[8]=s=>a.value.number_displayed=s),maxlength:"4",size:"3"},null,512),[[k,a.value.number_displayed]])])]),e("tr",null,[e("td",{align:"center"},[l[34]||(l[34]=e("input",{type:"submit",class:"submit-large",value:"Update"},null,-1)),e("input",{type:"button",class:"submit-large",value:"Close Window",onClick:r})])])])])],32)])])):b("",!0)}}),I=F(P,[["__scopeId","data-v-d7c2bbcd"]]);export{I as default};
//# sourceMappingURL=DisplayConfig-CMoneDrY.js.map
