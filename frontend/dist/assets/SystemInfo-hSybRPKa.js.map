{"version":3,"file":"SystemInfo-hSybRPKa.js","sources":["../../src/components/SystemInfo.vue"],"sourcesContent":["<template>\n  <div v-if=\"open\" class=\"system-info-modal\" @click=\"closeModal\">\n    <div class=\"system-info-modal-content\" @click.stop>\n      <div class=\"system-info-header\">\n        <h3>System Information</h3>\n        <button class=\"close-button\" @click=\"closeModal\">&times;</button>\n      </div>\n      \n      <div class=\"system-info-content\">\n        <div v-if=\"loading\" class=\"loading\">\n          Loading system information...\n        </div>\n        \n        <div v-else-if=\"error\" class=\"error\">\n          {{ error }}\n        </div>\n        \n        <div v-else-if=\"systemData\" class=\"system-data\">\n          <div class=\"info-section\">\n            <h4>Configuration Files</h4>\n            <div class=\"info-item\">\n              <span class=\"label\">Configurable Files Directory:</span>\n              <span class=\"value\">ALL user configurable files are in the `/var/www/html/supermon-ng/user_files` directory.</span>\n            </div>\n          </div>\n          \n          <div class=\"info-section\">\n            <h4>Login Information</h4>\n            <div class=\"info-item\">\n              <span class=\"label\">Logged in as:</span>\n              <span class=\"value\">'{{ systemData.username || 'anarchy' }}' using INI file: `{{ systemData.iniFile || 'user_files/allmon.ini' }}`</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"label\">Supermon Logged OUT INI:</span>\n              <span class=\"value\">`{{ systemData.iniFile || 'user_files/allmon.ini' }}`</span>\n            </div>\n          </div>\n          \n          <div class=\"info-section\">\n            <h4>Selective INI Settings</h4>\n            <div class=\"info-item\">\n              <span class=\"label\">Selective INI based on username:</span>\n              <span class=\"value\">**{{ systemData.selectiveIni || 'INACTIVE' }}** (Using `{{ systemData.iniFile || 'user_files/allmon.ini' }}`)</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"label\">Button selective based on username:</span>\n              <span class=\"value\">**{{ systemData.buttonSelective || 'ACTIVE' }}** (using rules related to '`{{ systemData.iniFile || 'user_files/allmon.ini' }}`')</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"label\">Selective Favorites INI:</span>\n              <span class=\"value\">**{{ systemData.selectiveFavorites || 'INACTIVE' }}** (using `{{ systemData.favoritesIni || 'user_files/favorites.ini' }}`)</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"label\">Selective Control Panel INI:</span>\n              <span class=\"value\">**{{ systemData.selectiveControlPanel || 'INACTIVE' }}** (using `{{ systemData.controlPanelIni || 'user_files/controlpanel.ini' }}`)</span>\n            </div>\n          </div>\n          \n          <div class=\"info-section\">\n            <h4>System Status</h4>\n            <div class=\"info-item\">\n              <span class=\"label\">Uptime:</span>\n              <span class=\"value\">{{ systemData.uptime || 'N/A' }} - Up since: {{ systemData.upSince || 'N/A' }} - Load Average: {{ systemData.loadAverage || 'N/A' }}</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"label\">Core Dumps:</span>\n              <span class=\"value\">[ Core dumps: {{ systemData.coreDumps || '0' }} ]</span>\n            </div>\n            <div class=\"info-item\">\n              <span class=\"label\">CPU:</span>\n              <span class=\"value\">{{ systemData.cpuTemp || 'N/A' }} @ {{ systemData.cpuTime || 'N/A' }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, watch } from 'vue'\nimport { api } from '@/utils/api'\nimport type { AxiosErrorResponse } from '@/types/api'\n\ninterface Props {\n  open: boolean\n}\n\ninterface SystemData {\n  username?: string\n  iniFile?: string\n  selectiveIni?: string\n  buttonSelective?: string\n  selectiveFavorites?: string\n  selectiveControlPanel?: string\n  favoritesIni?: string\n  controlPanelIni?: string\n  uptime?: string\n  upSince?: string\n  loadAverage?: string\n  coreDumps?: string\n  cpuTemp?: string\n  cpuTime?: string\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<{\n  'update:open': [value: boolean]\n}>()\n\nconst loading = ref(false)\nconst error = ref<string | null>(null)\nconst systemData = ref<SystemData | null>(null)\n\nconst closeModal = () => {\n  emit('update:open', false)\n}\n\nconst loadSystemInfo = async () => {\n  if (!props.open) return\n  \n  loading.value = true\n  error.value = null\n  \n  try {\n    // Get system info from the backend API\n    const response = await api.get('/config/system-info')\n    if (response.data.success) {\n      // Use the backend data directly\n      systemData.value = response.data.data\n    } else {\n      error.value = response.data.message || 'Failed to load system information'\n    }\n  } catch (err: unknown) {\n    const axiosError = err as AxiosErrorResponse\n    error.value = axiosError.response?.data?.message || 'Failed to load system information'\n  } finally {\n    loading.value = false\n  }\n}\n\nwatch(() => props.open, (newValue) => {\n  if (newValue) {\n    loadSystemInfo()\n  }\n})\n\nonMounted(() => {\n  if (props.open) {\n    loadSystemInfo()\n  }\n})\n</script>\n\n<style scoped>\n.system-info-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.system-info-modal-content {\n  background-color: var(--background-color);\n  border: 1px solid var(--border-color);\n  border-radius: 8px;\n  width: 90%;\n  max-width: 700px;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.system-info-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.system-info-header h3 {\n  margin: 0;\n  color: var(--text-color);\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 24px;\n  color: var(--text-color);\n  cursor: pointer;\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-button:hover {\n  color: var(--primary-color);\n}\n\n.system-info-content {\n  padding: 20px;\n}\n\n.loading, .error {\n  text-align: center;\n  padding: 20px;\n  color: var(--text-color);\n}\n\n.error {\n  color: #ff6b6b;\n}\n\n.info-section {\n  margin-bottom: 30px;\n}\n\n.info-section h4 {\n  margin: 0 0 15px 0;\n  color: var(--primary-color);\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 5px;\n}\n\n.info-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 0;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.info-item:last-child {\n  border-bottom: none;\n}\n\n.label {\n  font-weight: bold;\n  color: var(--text-color);\n  min-width: 200px;\n  margin-right: 15px;\n}\n\n.value {\n  color: var(--text-color);\n  text-align: right;\n  flex: 1;\n}\n</style>\n\n\n"],"names":["props","__props","emit","__emit","loading","ref","error","systemData","closeModal","loadSystemInfo","response","api","err","axiosError","_b","_a","watch","newValue","onMounted","_createElementBlock","_createElementVNode","_cache","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","_openBlock","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25"],"mappings":"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"}