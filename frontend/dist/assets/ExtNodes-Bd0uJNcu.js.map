{"version":3,"file":"ExtNodes-Bd0uJNcu.js","sources":["../../src/components/ExtNodes.vue"],"sourcesContent":["<template>\n  <div v-if=\"isVisible\" class=\"modal-overlay\" @click=\"closeModal\">\n    <div class=\"modal-content\" @click.stop>\n      <div class=\"modal-header\">\n        <h3>External Nodes Configuration</h3>\n        <button class=\"close-button\" @click=\"closeModal\">&times;</button>\n      </div>\n\n      <div class=\"modal-body\">\n        <!-- Loading State -->\n        <div v-if=\"loading\" class=\"loading\">\n          <div class=\"spinner\"></div>\n          <p>Retrieving external nodes configuration...</p>\n        </div>\n\n        <!-- Error State -->\n        <div v-if=\"error\" class=\"error-message\">\n          <p>{{ error }}</p>\n        </div>\n\n        <!-- ExtNodes Content Display -->\n        <div v-if=\"extnodesData\" class=\"extnodes-display\">\n          <div class=\"file-header\">\n            <h4>File: {{ extnodesData.file_path }}</h4>\n            <span class=\"timestamp\">{{ formatTimestamp(extnodesData.timestamp) }}</span>\n          </div>\n          <div class=\"separator\"></div>\n          <pre class=\"file-content\">{{ extnodesData.content }}</pre>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\nimport { api } from '@/utils/api'\n\nconst props = defineProps({\n  isVisible: {\n    type: Boolean,\n    default: false\n  }\n})\n\nconst emit = defineEmits(['update:isVisible'])\n\n// Reactive state\nconst loading = ref(false)\nconst error = ref('')\nconst extnodesData = ref(null)\n\n// Watch for modal visibility changes\nwatch(() => props.isVisible, (newVal) => {\n  if (newVal) {\n    loadExtNodes()\n  } else {\n    resetState()\n  }\n})\n\n// Methods\nconst closeModal = () => {\n  emit('update:isVisible', false)\n  resetState()\n}\n\nconst resetState = () => {\n  loading.value = false\n  error.value = ''\n  extnodesData.value = null\n}\n\nconst loadExtNodes = async () => {\n  loading.value = true\n  error.value = ''\n  extnodesData.value = null\n\n  try {\n    const response = await api.post('/nodes/extnodes')\n\n    if (response.data.success) {\n      extnodesData.value = response.data.data\n    } else {\n      error.value = response.data.message || 'Failed to retrieve external nodes configuration'\n    }\n  } catch (err) {\n    console.error('ExtNodes error:', err)\n    error.value = err.response?.data?.message || 'Failed to retrieve external nodes configuration'\n  } finally {\n    loading.value = false\n  }\n}\n\nconst formatTimestamp = (timestamp) => {\n  if (!timestamp) return ''\n  return new Date(timestamp).toLocaleString()\n}\n</script>\n\n<style scoped>\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.modal-content {\n  background-color: var(--background-color);\n  border-radius: 8px;\n  width: 80%;\n  max-width: 900px;\n  max-height: 80vh;\n  overflow: hidden;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n  border: 1px solid var(--border-color);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--border-color);\n  background-color: var(--container-bg);\n}\n\n.modal-header h3 {\n  margin: 0;\n  color: var(--text-color);\n}\n\n.close-button {\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  color: var(--text-color);\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-button:hover {\n  color: var(--link-color);\n}\n\n.modal-body {\n  padding: 1.5rem;\n  max-height: calc(80vh - 120px);\n  overflow-y: auto;\n}\n\n.loading {\n  text-align: center;\n  padding: 2rem;\n}\n\n.spinner {\n  border: 3px solid var(--border-color);\n  border-top: 3px solid var(--link-color);\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 1rem;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.error-message {\n  background-color: var(--error-bg);\n  color: var(--error-color);\n  padding: 1rem;\n  border-radius: 4px;\n  margin: 1rem 0;\n}\n\n.extnodes-display {\n  margin-top: 1rem;\n}\n\n.file-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n}\n\n.file-header h4 {\n  margin: 0;\n  color: var(--text-color);\n  font-size: 1rem;\n}\n\n.timestamp {\n  font-size: 0.875rem;\n  color: var(--secondary-text);\n}\n\n.separator {\n  height: 1px;\n  background-color: var(--border-color);\n  margin-bottom: 1rem;\n}\n\n.file-content {\n  background-color: #000000;\n  color: #00ff00;\n  padding: 1rem;\n  border-radius: 4px;\n  font-family: 'Courier New', Consolas, monospace;\n  font-size: 12px;\n  line-height: 1.3;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  max-height: 500px;\n  overflow-y: auto;\n  border: 1px solid var(--border-color);\n}\n</style>\n"],"names":["props","__props","emit","__emit","loading","ref","error","extnodesData","watch","newVal","loadExtNodes","resetState","closeModal","response","api","err","_b","_a","formatTimestamp","timestamp","_createElementBlock","_createElementVNode","_cache","_hoisted_1","_openBlock","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7"],"mappings":"wbAsCA,MAAMA,EAAQC,EAORC,EAAOC,EAGPC,EAAUC,EAAI,EAAK,EACnBC,EAAQD,EAAI,EAAE,EACdE,EAAeF,EAAI,IAAI,EAG7BG,EAAM,IAAMR,EAAM,UAAYS,GAAW,CACnCA,EACFC,EAAY,EAEZC,EAAU,CAEd,CAAC,EAGD,MAAMC,EAAa,IAAM,CACvBV,EAAK,mBAAoB,EAAK,EAC9BS,EAAU,CACZ,EAEMA,EAAa,IAAM,CACvBP,EAAQ,MAAQ,GAChBE,EAAM,MAAQ,GACdC,EAAa,MAAQ,IACvB,EAEMG,EAAe,SAAY,SAC/BN,EAAQ,MAAQ,GAChBE,EAAM,MAAQ,GACdC,EAAa,MAAQ,KAErB,GAAI,CACF,MAAMM,EAAW,MAAMC,EAAI,KAAK,iBAAiB,EAE7CD,EAAS,KAAK,QAChBN,EAAa,MAAQM,EAAS,KAAK,KAEnCP,EAAM,MAAQO,EAAS,KAAK,SAAW,iDAE3C,OAASE,EAAK,CACZ,QAAQ,MAAM,kBAAmBA,CAAG,EACpCT,EAAM,QAAQU,GAAAC,EAAAF,EAAI,WAAJ,YAAAE,EAAc,OAAd,YAAAD,EAAoB,UAAW,iDAC/C,QAAC,CACCZ,EAAQ,MAAQ,EAClB,CACF,EAEMc,EAAmBC,GAClBA,EACE,IAAI,KAAKA,CAAS,EAAE,eAAc,EADlB,gBA9FZlB,EAAA,eAAXmB,EA8BM,MAAA,OA9BgB,MAAM,gBAAiB,QAAOR,IAClDS,EA4BM,MAAA,CA5BD,MAAM,gBAAiB,sBAAD,IAAA,CAAA,EAAW,CAAA,MAAA,CAAA,KACpCA,EAGM,MAAA,CAHD,MAAM,cAAc,EAAA,CACvBC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,EAAqC,UAAjC,+BAA4B,EAAA,GAChCA,EAAiE,SAAA,CAAzD,MAAM,eAAgB,QAAOT,GAAY,GAAO,IAG1DS,EAqBM,MArBNE,EAqBM,CAnBOnB,EAAA,OAAXoB,IAAAJ,EAGM,MAHNK,EAGM,CAAA,GAAAH,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFJD,EAA2B,MAAA,CAAtB,MAAM,SAAS,EAAA,KAAA,EAAA,EACpBA,EAAiD,SAA9C,6CAA0C,EAAA,gBAIpCf,EAAA,OAAXkB,IAAAJ,EAEM,MAFNM,EAEM,CADJL,EAAkB,WAAZf,EAAA,KAAK,EAAA,CAAA,cAIFC,EAAA,OAAXiB,IAAAJ,EAOM,MAPNO,EAOM,CANJN,EAGM,MAHNO,EAGM,CAFJP,EAA2C,KAAA,KAAvC,SAAMQ,EAAGtB,EAAA,MAAa,SAAS,EAAA,CAAA,EACnCc,EAA4E,OAA5ES,EAA4ED,EAAjDX,EAAgBX,EAAA,MAAa,SAAS,CAAA,EAAA,CAAA,gBAEnEc,EAA6B,MAAA,CAAxB,MAAM,WAAW,EAAA,KAAA,EAAA,GACtBA,EAA0D,MAA1DU,EAA0DF,EAA7BtB,EAAA,MAAa,OAAO,EAAA,CAAA"}