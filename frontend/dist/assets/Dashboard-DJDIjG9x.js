const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DisplayConfig-CMoneDrY.js","assets/vendor-BDu8AGUg.js","assets/index-ixAHyd21.js","assets/index-BVEmAEN4.css","assets/DisplayConfig-DsBG3wBc.css","assets/AddFavorite-CuYV14O2.js","assets/AddFavorite-C12xueea.css","assets/DeleteFavorite-DJ5YktsU.js","assets/DeleteFavorite-y5HbL5Bx.css","assets/Favorites-B4G35OUI.js","assets/Favorites-B1lVZlDx.css","assets/DVSwitchModal-C5hX-77L.js","assets/DVSwitchModal-CFD7i6Tp.css","assets/AstLog-CF4JGWaS.js","assets/AstLog-D6MEh1vf.css","assets/AstLookup-BOyRgWr3.js","assets/AstLookup-BMS6ViDh.css","assets/ControlPanel-Dk92Rbi2.js","assets/ControlPanel-e_iTee-p.css","assets/RptStats-CRVlevi4.js","assets/RptStats-DrG4bwGj.css","assets/CpuStats-CO0Ij75W.js","assets/CpuStats-CPlL1_2G.css","assets/Database-DEJWlMnA.js","assets/Database-CRXXwzko.css","assets/Donate-OGTHe_u0.js","assets/Donate-CYK9qot-.css","assets/ExtNodes-DYPSBJZk.js","assets/ExtNodes-DPdKR5k9.css","assets/FastRestart-BqNi2V9s.js","assets/FastRestart-BfWSijUz.css","assets/IRLPLog-DW_krN2E.js","assets/IRLPLog-CDbWbEXF.css","assets/LinuxLog-i3e-szJB.js","assets/LinuxLog-CF-GvHgF.css","assets/BanAllow-BIpS0fad.js","assets/BanAllow-DD1Fdyri.css","assets/PiGPIO-CDT0WbcD.js","assets/PiGPIO-CHczidfS.css","assets/Reboot-CUNXBieA.js","assets/Reboot-BObK2Qp0.css","assets/SMLog-r20DeRxY.js","assets/SMLog-BWCHGkfN.css","assets/Stats-C65dRMwU.js","assets/Stats-BJMY_SJV.css","assets/WebAccLog-Ddz8LojG.js","assets/WebAccLog-piVAe94U.css","assets/WebErrLog-CWoCWAoy.js","assets/WebErrLog-CBGzEVzr.css","assets/Voter-O86hGT0A.js","assets/dompurify-A66Cw1IH.js","assets/Voter-DJzfaCt2.css","assets/ConfigEditor-CLCTtZlp.js","assets/ConfigEditor-DHU5Nq_-.css","assets/SystemInfo-hSybRPKa.js","assets/SystemInfo-B1JSvJt7.css","assets/DigitalDashboard-B0S1H-fh.js","assets/DigitalDashboard-vfwuXosu.css","assets/NodeStatus-DNzlGiZA.js","assets/NodeStatus-CWYVspXm.css"])))=>i.map(i=>d[i]);
var ws=Object.defineProperty;var Es=(g,s,a)=>s in g?ws(g,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):g[s]=a;var de=(g,s,a)=>Es(g,typeof s!="symbol"?s+"":s,a);import{a as B,e as Le,_ as Pe,u as Je,b as G}from"./index-ixAHyd21.js";import{d as Ct,r as m,c as ee,o as Qe,w as Ee,f as r,l as E,k as i,g as e,i as Me,v as Xe,B as Ts,t as h,C as ke,h as Ue,e as We,F as be,p as De,m as $e,D as Cs,E as At,G as mt,j as As,H as Ns,q as I,I as Ds,J as qe,n as Fe,u as k,K as $s,L as Rs,M as X}from"./vendor-BDu8AGUg.js";import{p as Ls}from"./dompurify-A66Cw1IH.js";const Ms="/supermon-ng/allstarlink.jpg",Us=Ct("astdb",()=>{const g=m(new Map),s=m({}),a=m(null),c=m(0),f=m(!1),C=m(null),d=5*60*1e3,w=1e3,S=10*60*1e3,$=ee(()=>Date.now()-c.value<S),V=ee(()=>g.value.size),Q=async()=>{try{if(f.value=!0,C.value=null,$.value&&Object.keys(s.value).length>0){console.log("ASTDB: Using cached data");return}await ne()}catch(U){C.value="Failed to initialize ASTDB store",console.error("ASTDB store initialization error:",U)}finally{f.value=!1}},ne=async()=>{var U,q,z,x,Y;try{const P=await B.get("/database/status",{timeout:3e4});if(console.log("Database status response:",{status:P.status,success:(U=P.data)==null?void 0:U.success,hasData:!!((q=P.data)!=null&&q.data),hasAstdb:!!((x=(z=P.data)==null?void 0:z.data)!=null&&x.astdb)}),!P.data)throw console.error("Empty response from database status endpoint"),new Error("Invalid response from database status endpoint: empty response");if(!P.data.success)throw console.error("Database status endpoint returned success=false:",P.data),new Error("Invalid response from database status endpoint: "+(P.data.message||"Unknown error"));const ie=(Y=P.data.data)==null?void 0:Y.astdb;if(ie==null)throw console.error("ASTDB data missing in response:",P.data),new Error("No ASTDB data in response");if(!Array.isArray(ie)&&typeof ie!="object")throw console.error("ASTDB data has wrong type:",typeof ie,ie),new Error("ASTDB data is not in expected format");s.value=ie,c.value=Date.now();const n=Array.isArray(ie)?ie.length:Object.keys(ie).length;console.log(`ASTDB: Loaded ${n} entries`)}catch(P){throw console.error("Failed to load full ASTDB:",P),P}},le=async U=>{try{const q=`node_${U}`,z=g.value.get(q);if(z&&z.expiresAt>Date.now())return console.log(`ASTDB: Cache hit for node ${U}`),z.data;if(Object.keys(s.value).length>0&&s.value[U]){const Y=s.value[U];return H(U,Y),Y}console.log(`ASTDB: Fetching node ${U} from API`);const x=await B.get(`/astdb/node/${U}`);if(x.data.success&&x.data.data){const Y={node_id:U,callsign:x.data.data.callsign,description:x.data.data.description,location:x.data.data.location};return H(U,Y),Y}return null}catch(q){return console.error(`Failed to get node info for ${U}:`,q),null}},M=async U=>{try{const q={},z=[];for(const x of U){const Y=`node_${x}`,P=g.value.get(Y);P&&P.expiresAt>Date.now()?q[x]=P.data:z.push(x)}if(z.length>0){console.log(`ASTDB: Fetching ${z.length} nodes from batch API`);const x=await B.get("/astdb/nodes",{params:{nodes:z.join(",")}});if(x.data.success&&x.data.data)for(const[Y,P]of Object.entries(x.data.data))P&&(q[Y]=P,H(Y,P))}return q}catch(q){return console.error("Failed to get multiple nodes info:",q),{}}},T=async(U,q=50)=>{var z;try{const x=`search_${U}_${q}`,Y=g.value.get(x);if(Y&&Y.expiresAt>Date.now())return console.log(`ASTDB: Cache hit for search "${U}"`),Y.data;console.log(`ASTDB: Searching for "${U}"`);const P=await B.get("/astdb/search",{params:{q:U,limit:q}});if(P.data.success&&((z=P.data.data)!=null&&z.results)){const ie=P.data.data.results;return g.value.set(x,{data:ie,timestamp:Date.now(),expiresAt:Date.now()+d}),me(),ie}return[]}catch(x){return console.error("Failed to search ASTDB:",x),[]}},l=async()=>{try{const U=await B.get("/astdb/stats");return U.data.success?(a.value=U.data.data,a.value):null}catch(U){return console.error("Failed to get ASTDB stats:",U),null}},W=async()=>{try{const U=await B.get("/astdb/health");return U.data.success&&U.data.healthy}catch(U){return console.error("ASTDB health check failed:",U),!1}},te=()=>{g.value.clear(),s.value={},c.value=0,a.value=null,console.log("ASTDB: Browser cache cleared")},F=async()=>{te(),await Q()},H=(U,q)=>{const z=`node_${U}`;g.value.set(z,{data:q,timestamp:Date.now(),expiresAt:Date.now()+d}),g.value.size>w&&me()},me=()=>{const U=Date.now(),q=Array.from(g.value.entries());for(const[z,x]of q)x.expiresAt<=U&&g.value.delete(z);if(g.value.size>w){const z=q.filter(([Y,P])=>P.expiresAt>U).sort((Y,P)=>Y[1].timestamp-P[1].timestamp),x=z.slice(0,z.length-w);for(const[Y]of x)g.value.delete(Y)}console.log(`ASTDB: Cache cleaned, ${g.value.size} entries remaining`)},Re=()=>{const U=Date.now();let q=0,z=0;for(const x of g.value.values())x.expiresAt>U?q++:z++;return{totalEntries:g.value.size,validEntries:q,expiredEntries:z,fullAstdbEntries:Object.keys(s.value).length,lastRefresh:new Date(c.value).toISOString(),isCacheValid:$.value}};return{cache:g,fullAstdb:s,stats:a,isLoading:f,error:C,isCacheValid:$,cacheSize:V,initialize:Q,getNodeInfo:le,getMultipleNodesInfo:M,searchNodes:T,getStats:l,checkHealth:W,clearCache:te,forceRefresh:F,getCacheStats:Re}});class Ps{constructor(s={}){de(this,"config");de(this,"requestQueue",new Map);de(this,"responseCache",new Map);de(this,"batchTimer",null);de(this,"pendingRequests",new Map);this.config={maxBatchSize:10,batchDelay:50,cacheEnabled:!0,defaultCacheTTL:3e4,...s}}async addRequest(s){const a=this.generateRequestId(s);if(this.config.cacheEnabled){const f=this.getCachedResponse(a);if(f)return f.data}if(this.pendingRequests.has(a))return new Promise((f,C)=>{this.pendingRequests.get(a).resolve=f,this.pendingRequests.get(a).reject=C});const c={...s,id:a,ttl:s.ttl||this.config.defaultCacheTTL};return new Promise((f,C)=>{this.requestQueue.set(a,c),this.pendingRequests.set(a,{resolve:f,reject:C}),this.scheduleBatch()})}async batchInitialization(){try{const[s,a,c]=await Promise.allSettled([this.addRequest({endpoint:"/nodes",method:"GET",priority:"high",ttl:1e4}),this.addRequest({endpoint:"/config/nodes",method:"GET",priority:"high",ttl:3e5}),this.addRequest({endpoint:"/astdb/health",method:"GET",priority:"medium",ttl:6e4})]);return{nodes:s.status==="fulfilled"?s.value:null,config:a.status==="fulfilled"?a.value:null,astdbHealth:c.status==="fulfilled"?c.value:null}}catch(s){throw s}}async batchRealTimeUpdate(s){try{const a=s.join(","),[c]=await Promise.allSettled([this.addRequest({endpoint:`/nodes/ami/status?nodes=${encodeURIComponent(a)}`,method:"GET",params:{},priority:"high",ttl:500})]);return{amiStatus:c.status==="fulfilled"?c.value:null}}catch(a){throw a}}scheduleBatch(){this.batchTimer||(this.batchTimer=setTimeout(()=>{this.processBatch()},this.config.batchDelay))}async processBatch(){if(this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.requestQueue.size===0)return;const s=Array.from(this.requestQueue.values());this.requestQueue.clear(),s.sort((c,f)=>{const C={high:0,medium:1,low:2};return C[c.priority]-C[f.priority]});const a=this.chunkArray(s,this.config.maxBatchSize);for(const c of a)await this.processBatchChunk(c)}async processBatchChunk(s){const a=this.groupRequests(s);for(const c of a)c.length===1?await this.executeSingleRequest(c[0]):await this.executeRequestGroup(c)}async executeSingleRequest(s){try{let a;s.method==="GET"?a=await B.get(s.endpoint,{params:s.params}):a=await B.request({method:s.method,url:s.endpoint,data:s.params}),this.handleRequestSuccess(s,a.data)}catch(a){this.handleRequestError(s,a)}}async executeRequestGroup(s){const a=s.map(c=>this.executeSingleRequest(c));await Promise.allSettled(a)}handleRequestSuccess(s,a){const c={id:s.id,data:a,cached:!1,timestamp:Date.now()};this.config.cacheEnabled&&s.ttl&&s.ttl>0&&(this.responseCache.set(s.id,c),setTimeout(()=>{this.responseCache.delete(s.id)},s.ttl));const f=this.pendingRequests.get(s.id);f&&(f.resolve(a),this.pendingRequests.delete(s.id))}handleRequestError(s,a){const c=this.pendingRequests.get(s.id);c&&(c.reject(a),this.pendingRequests.delete(s.id))}getCachedResponse(s){const a=this.responseCache.get(s);return a?Date.now()-a.timestamp>3e5?(this.responseCache.delete(s),null):(a.cached=!0,a):null}generateRequestId(s){const a=s.params?JSON.stringify(s.params):"";return`${s.method}_${s.endpoint}_${a}`.replace(/[^a-zA-Z0-9_]/g,"_")}groupRequests(s){const a=new Map;return s.forEach(c=>{const f=`${c.method}_${c.endpoint}`;a.has(f)||a.set(f,[]),a.get(f).push(c)}),Array.from(a.values())}chunkArray(s,a){const c=[];for(let f=0;f<s.length;f+=a)c.push(s.slice(f,f+a));return c}clearCache(){this.responseCache.clear()}getCacheStats(){return{size:this.responseCache.size,entries:Array.from(this.responseCache.keys())}}}function Vs(g){const s=new Ps(g);return{addRequest:a=>s.addRequest(a),batchInitialization:()=>s.batchInitialization(),batchRealTimeUpdate:a=>s.batchRealTimeUpdate(a),clearCache:()=>s.clearCache(),getCacheStats:()=>s.getCacheStats()}}class xs{constructor(){de(this,"connections",new Map);de(this,"connectionStates",new Map);de(this,"messageHandlers",new Map);de(this,"stateHandlers",new Map);de(this,"reconnectTimers",new Map);de(this,"pingTimers",new Map);de(this,"MAX_RECONNECT_ATTEMPTS",10);de(this,"INITIAL_RECONNECT_DELAY",1e3);de(this,"MAX_RECONNECT_DELAY",3e4);de(this,"PING_INTERVAL",3e4);de(this,"CONNECTION_TIMEOUT",1e4)}async connectToNode(s,a){return this.connections.has(s)&&this.disconnectFromNode(s),this.connectionStates.set(s,{connected:!1,connecting:!0,error:null,reconnectAttempts:0,lastMessageTime:0}),this.notifyStateChange(s),new Promise((c,f)=>{var C;try{const d=new WebSocket(a);let w;w=setTimeout(()=>{var S;if(d.readyState===WebSocket.CONNECTING){d.close();const $="Connection timeout";this.updateConnectionState(s,{connected:!1,connecting:!1,error:$,reconnectAttempts:((S=this.connectionStates.get(s))==null?void 0:S.reconnectAttempts)||0,lastMessageTime:0}),f(new Error($))}},this.CONNECTION_TIMEOUT),d.onopen=()=>{clearTimeout(w),this.connections.set(s,d),this.updateConnectionState(s,{connected:!0,connecting:!1,error:null,reconnectAttempts:0,lastMessageTime:Date.now()}),this.startPing(s),d.send(JSON.stringify({action:"subscribe",node:s})),c()},d.onmessage=S=>{try{const $=JSON.parse(S.data);this.updateConnectionState(s,{...this.connectionStates.get(s),lastMessageTime:Date.now()}),this.notifyMessage(s,$)}catch($){console.error(`Error parsing WebSocket message for node ${s}:`,$)}},d.onerror=S=>{clearTimeout(w);const $=`WebSocket error for node ${s}`;console.error($,S),this.updateConnectionState(s,{...this.connectionStates.get(s),connecting:!1,error:$}),f(new Error($))},d.onclose=S=>{clearTimeout(w),this.stopPing(s),this.connections.delete(s);const $=this.connectionStates.get(s);$&&(this.updateConnectionState(s,{...$,connected:!1,connecting:!1}),S.code!==1e3&&$.reconnectAttempts<this.MAX_RECONNECT_ATTEMPTS?this.scheduleReconnect(s,a):$.reconnectAttempts>=this.MAX_RECONNECT_ATTEMPTS&&this.updateConnectionState(s,{...$,error:"Max reconnection attempts reached"}))}}catch(d){const w=`Failed to create WebSocket connection for node ${s}`;console.error(w,d),this.updateConnectionState(s,{connected:!1,connecting:!1,error:w,reconnectAttempts:((C=this.connectionStates.get(s))==null?void 0:C.reconnectAttempts)||0,lastMessageTime:0}),f(d)}})}disconnectFromNode(s){const a=this.reconnectTimers.get(s);a&&(clearTimeout(a),this.reconnectTimers.delete(s)),this.stopPing(s);const c=this.connections.get(s);c&&(c.close(1e3,"Client disconnect"),this.connections.delete(s)),this.connectionStates.delete(s),this.notifyStateChange(s)}onNodeMessage(s,a){return this.messageHandlers.has(s)||this.messageHandlers.set(s,new Set),this.messageHandlers.get(s).add(a),()=>{const c=this.messageHandlers.get(s);c&&(c.delete(a),c.size===0&&this.messageHandlers.delete(s))}}onNodeStateChange(s,a){return this.stateHandlers.has(s)||this.stateHandlers.set(s,new Set),this.stateHandlers.get(s).add(a),()=>{const c=this.stateHandlers.get(s);c&&(c.delete(a),c.size===0&&this.stateHandlers.delete(s))}}isNodeConnected(s){const a=this.connectionStates.get(s);return(a==null?void 0:a.connected)===!0}getNodeState(s){return this.connectionStates.get(s)||null}getAllConnectedNodes(){return Array.from(this.connections.keys())}disconnectAll(){Array.from(this.connections.keys()).forEach(a=>this.disconnectFromNode(a))}scheduleReconnect(s,a){const c=this.connectionStates.get(s);if(!c)return;const f=c.reconnectAttempts+1,C=Math.min(this.INITIAL_RECONNECT_DELAY*Math.pow(2,f-1),this.MAX_RECONNECT_DELAY);this.updateConnectionState(s,{...c,reconnectAttempts:f});const d=setTimeout(()=>{this.reconnectTimers.delete(s),this.connectToNode(s,a).catch(w=>{console.error(`Reconnection failed for node ${s}:`,w)})},C);this.reconnectTimers.set(s,d)}startPing(s){this.stopPing(s);const a=setInterval(()=>{const c=this.connections.get(s);c&&c.readyState===WebSocket.OPEN?c.send(JSON.stringify({action:"ping"})):this.stopPing(s)},this.PING_INTERVAL);this.pingTimers.set(s,a)}stopPing(s){const a=this.pingTimers.get(s);a&&(clearInterval(a),this.pingTimers.delete(s))}updateConnectionState(s,a){this.connectionStates.set(s,a),this.notifyStateChange(s)}notifyMessage(s,a){const c=this.messageHandlers.get(s);c&&c.forEach(f=>{try{f(a)}catch(C){console.error(`Error in message handler for node ${s}:`,C)}})}notifyStateChange(s){const a=this.stateHandlers.get(s),c=this.connectionStates.get(s);a&&c&&a.forEach(f=>{try{f(c)}catch(C){console.error(`Error in state handler for node ${s}:`,C)}})}}const Ge=new xs,Os=Ct("realTime",()=>{const g=m([]),s=m({}),a=Us(),c=m(!1),f=m(null),C=m([]),d=m(0),w=m({}),{batchInitialization:S,clearCache:$}=Vs({maxBatchSize:5,batchDelay:25,cacheEnabled:!0,defaultCacheTTL:5e3}),V=new Map,Q=new Map,ne=ee(()=>C.value.length>0),le=async()=>{var n,b,R;try{const D=Date.now(),_=await S();if((n=_.nodes)!=null&&n.data){const ve=(_.nodes.data||[]).map(v=>{const A=v.info||v.description||`Node ${v.node_number||v.id}`;return{...v,info:A}});ve.forEach(v=>{const A=String(v.id||v.node_number),K=g.value.findIndex(L=>String(L.id)===A);if(K>-1){const L=g.value[K];g.value[K]={...L,callsign:v.callsign||L.callsign,description:v.description||L.description,location:v.location||L.location,node_number:v.node_number||L.node_number,id:v.id||L.id,info:v.info||L.info,connected_nodes:L.connected_nodes||v.connected_nodes,remote_nodes:L.remote_nodes||v.remote_nodes,status:L.status||v.status,is_online:L.is_online!==void 0?L.is_online:v.is_online,last_updated:L.last_updated||v.last_updated}}else g.value.push(v)});const u=new Set(ve.map(v=>String(v.id||v.node_number)));g.value=g.value.filter(v=>u.has(String(v.id||v.node_number)))}(R=(b=_.config)==null?void 0:b.data)!=null&&R.config&&(s.value=_.config.data.config),await a.initialize(),await M();const Z=Date.now()-D;f.value=null,d.value=Date.now()}catch(D){f.value="Failed to initialize real-time store",console.error("Real-time store initialization error:",D)}},M=async()=>{try{const n=await B.get(Le.nodes.websocketPorts);n.data.success&&n.data.nodes&&Object.keys(n.data.nodes).forEach(b=>{w.value[b]=n.data.nodes[b].port})}catch(n){console.error("Error fetching WebSocket ports:",n)}},T=n=>{if(w.value[n]){const _=window.location.protocol==="https:"?"wss:":"ws:",Z=window.location.host;return`${_}//${Z}/supermon-ng/ws/${n}`}const R=window.location.protocol==="https:"?"wss:":"ws:",D=window.location.host;return`${R}//${D}/supermon-ng/ws/${n}`},l=async n=>{C.value.includes(n)||C.value.push(n),Object.keys(w.value).length===0&&await M();try{const b=T(n),R=Ge.onNodeMessage(n,_=>{te(_)});V.set(n,R);const D=Ge.onNodeStateChange(n,_=>{_.connected?(c.value=!0,f.value=null):_.error&&(f.value=`WebSocket error for node ${n}: ${_.error}`)});Q.set(n,D),await Ge.connectToNode(n,b),c.value=!0,f.value=null}catch(b){console.error(`Error connecting to WebSocket for node ${n}:`,b),f.value=`Failed to connect to node ${n}`}},W=n=>{const b=C.value.indexOf(n);b>-1&&C.value.splice(b,1),Ge.disconnectFromNode(n);const R=V.get(n);R&&(R(),V.delete(n));const D=Q.get(n);D&&(D(),Q.delete(n)),C.value.length===0&&(c.value=!1)},te=n=>{try{const b=String(n.node),R=g.value.findIndex(_=>String(_.id)===String(b)),D={status:n.status||"online",is_online:(n.status||"online")==="online",is_keyed:(n.cos_keyed??0)>0||(n.tx_keyed??0)>0,last_updated:Date.now(),updated_at:new Date().toISOString()};if(n.cos_keyed!==void 0&&n.cos_keyed!==null&&(D.cos_keyed=n.cos_keyed),n.tx_keyed!==void 0&&n.tx_keyed!==null&&(D.tx_keyed=n.tx_keyed),n.cpu_temp!==void 0&&n.cpu_temp!==null&&(D.cpu_temp=n.cpu_temp),n.cpu_up!==void 0&&n.cpu_up!==null&&(D.cpu_up=n.cpu_up),n.cpu_load!==void 0&&n.cpu_load!==null&&(D.cpu_load=n.cpu_load),n.ALERT!==void 0&&n.ALERT!==null&&(D.ALERT=n.ALERT),n.WX!==void 0&&n.WX!==null&&(D.WX=n.WX),n.DISK!==void 0&&n.DISK!==null&&(D.DISK=n.DISK),n.remote_nodes&&Array.isArray(n.remote_nodes)){const _=n.remote_nodes.map(Z=>({node:String(Z.node||""),info:Z.info||`Node ${Z.node}`,ip:Z.ip||"",direction:Z.direction||"",elapsed:Z.elapsed||"",link:Z.link||"UNKNOWN",keyed:Z.keyed||"n/a",last_keyed:Z.last_keyed||"-1",mode:Z.mode||"Allstar"}));D.connected_nodes=_,D.remote_nodes=_}if(R>-1){const _=g.value[R];g.value[R]={..._,...D}}else{const _=a.fullAstdb[b];let Z=`Node ${b}`,he="N/A",ve="Unknown",u="N/A";_&&Array.isArray(_)&&_.length>=4&&(he=_[1]||"N/A",ve=_[2]||"Unknown",u=_[3]||"N/A",Z=`${he} ${ve} ${u}`.trim()),g.value.push({id:parseInt(b),node_number:parseInt(b),callsign:he,description:ve,location:u,last_heard:null,created_at:new Date().toISOString(),info:Z,...D})}d.value=Date.now()}catch(b){console.error("Error updating node from WebSocket:",b)}},F=async()=>{try{if(C.value.length>0){const n=C.value.join(","),b=await B.get(`/nodes/ami/status?nodes=${encodeURIComponent(n)}`);if(b.data.success){const R=b.data.data;Object.keys(R).forEach(D=>{const _=R[D],Z=g.value.findIndex(he=>String(he.id)===String(D));Z>-1?g.value[Z]={...g.value[Z],status:_.status,cos_keyed:_.cos_keyed,tx_keyed:_.tx_keyed,cpu_temp:_.cpu_temp,cpu_up:_.cpu_up,cpu_load:_.cpu_load,ALERT:_.ALERT,WX:_.WX,DISK:_.DISK,remote_nodes:_.remote_nodes,info:_.info}:g.value.push({id:parseInt(D),node_number:parseInt(D),callsign:"N/A",description:_.info,location:"N/A",status:_.status,last_heard:null,connected_nodes:_.remote_nodes,cos_keyed:_.cos_keyed,tx_keyed:_.tx_keyed,cpu_temp:_.cpu_temp,ALERT:_.ALERT,WX:_.WX,DISK:_.DISK,is_online:_.status==="online",is_keyed:_.cos_keyed>0||_.tx_keyed>0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),info:_.info,remote_nodes:_.remote_nodes})})}}else{const b=(await B.get("/nodes")).data.data||[];g.value=b.map(R=>({...R,info:`${R.node_number||R.id} - ${R.description||"Unknown"}`}))}f.value=null}catch(n){n.code!=="ECONNABORTED"&&(console.error("Error fetching node data:",n),f.value="Failed to fetch node data",c.value=!1)}},H=n=>g.value.find(b=>String(b.id)===String(n)),me=n=>{const b=H(n);if(b)return b.info;const R=a.fullAstdb[n];return R&&R.length>=4?`${R[1]} ${R[2]} ${R[3]}`:"Node not in database"},Re=()=>{f.value=null},U=async(n,b=!1)=>{try{await B.post(Le.nodes.connect(n),{localnode:n,remotenode:n,perm:b})}catch(R){throw console.error("Connect error:",R),R}},q=async n=>{try{await B.post(Le.nodes.disconnect(n),{localnode:n,remotenode:n})}catch(b){throw console.error("Disconnect error:",b),b}},z=async n=>{try{await B.post(Le.nodes.monitor(n),{localnode:n,remotenode:n})}catch(b){throw console.error("Monitor error:",b),b}},x=async n=>{try{await B.post(Le.nodes.connect(n),{localnode:n,remotenode:n,perm:!0})}catch(b){throw console.error("Perm connect error:",b),b}},Y=async n=>{try{await B.post(Le.nodes.localMonitor(n),{localnode:n,remotenode:n})}catch(b){throw console.error("Local monitor error:",b),b}},P=async n=>{try{await B.post(Le.nodes.monitor(n),{localnode:n,remotenode:n})}catch(b){throw console.error("Monitor CMD error:",b),b}},ie=()=>{C.value.forEach(n=>{W(n)}),g.value=[],s.value={},c.value=!1,f.value=null,C.value=[],w.value={}};return{nodes:g,nodeConfig:s,astdb:a.fullAstdb,astdbStore:a,isConnected:c,error:f,monitoringNodes:C,lastUpdateTime:d,websocketPorts:w,isMonitoring:ne,initialize:le,startMonitoring:l,stopMonitoring:W,fetchNodeData:F,updateNodeFromWebSocket:te,getNodeById:H,getNodeInfo:me,clearError:Re,connectNode:U,disconnectNode:q,monitorNode:z,permConnectNode:x,localMonitorNode:Y,monitorCmdNode:P,reset:ie,clearCache:$}});function Ye(g){return g==null||typeof g!="string"?"":Ls.sanitize(g,{ALLOWED_TAGS:["span","a","b","u","br","div","i"],ALLOWED_ATTR:["href","target","style","class","data-node-id"]})}const Is={class:"modal-body"},Bs={key:0,class:"form-group"},Fs={key:1,class:"form-group"},Ws={class:"node-display"},Hs={key:2,class:"status-message loading"},zs={key:3,class:"status-message error"},Ks={key:4,class:"status-message success"},js={key:5,class:"bubble-chart-container"},qs={class:"bubble-chart-header"},Gs={class:"bubble-chart-iframe-container"},Xs=["src"],Ys={__name:"BubbleChart",props:{open:{type:Boolean,default:!1},localNode:{type:String,default:""}},emits:["update:open"],setup(g,{emit:s}){Qe(()=>{a.open&&a.localNode&&(f.value=a.localNode,Q())});const a=g,c=s,f=m(""),C=m(!1),d=m(""),w=m(""),S=m(""),$=()=>{c("update:open",!1),V()},V=()=>{f.value="",C.value=!1,d.value="",w.value="",S.value=""},Q=async()=>{var M,T;if(!f.value||!String(f.value).trim()){d.value="Please enter a node number";return}C.value=!0,d.value="",w.value="",S.value="";try{const l=await B.post("/config/bubblechart",{node:String(f.value).trim(),localNode:a.localNode||""});l.data.success?(S.value=l.data.statsUrl,w.value=l.data.message||"Bubble chart URL generated successfully"):d.value=l.data.message||"Failed to generate bubble chart URL"}catch(l){console.error("Bubble chart error:",l),(T=(M=l.response)==null?void 0:M.data)!=null&&T.message?d.value=l.response.data.message:d.value="Failed to generate bubble chart URL. Please try again."}finally{C.value=!1}},ne=async()=>{if(S.value)try{await navigator.clipboard.writeText(S.value),w.value="URL copied to clipboard!",setTimeout(()=>{w.value=""},2e3)}catch(M){console.error("Copy to clipboard failed:",M),d.value="Failed to copy URL to clipboard"}},le=()=>{S.value&&window.open(S.value,"BubbleChart","status=no,location=no,toolbar=no,width=1200,height=800,left=100,top=100")};return Ee(()=>a.open,M=>{M?a.localNode&&(f.value=a.localNode,Q()):V()}),(M,T)=>g.open?(i(),r("div",{key:0,class:"modal-overlay",onClick:$},[e("div",{class:"modal-content",onClick:T[1]||(T[1]=Ue(()=>{},["stop"]))},[e("div",{class:"modal-header"},[T[2]||(T[2]=e("h3",null,"Bubble Chart",-1)),e("button",{class:"close-button",onClick:$},"×")]),e("div",Is,[a.localNode?E("",!0):(i(),r("div",Bs,[T[3]||(T[3]=e("label",{for:"nodeInput"},"Node Number:",-1)),Me(e("input",{id:"nodeInput","onUpdate:modelValue":T[0]||(T[0]=l=>f.value=l),type:"text",class:"form-control",placeholder:"Enter node number (e.g., 546051)",onKeyup:Ts(Q,["enter"])},null,544),[[Xe,f.value]])])),a.localNode?(i(),r("div",Fs,[T[4]||(T[4]=e("label",null,"Node Number:",-1)),e("div",Ws,h(a.localNode),1)])):E("",!0),C.value?(i(),r("div",Hs,[...T[5]||(T[5]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),ke(" Loading... ",-1)])])):E("",!0),d.value?(i(),r("div",zs,[T[6]||(T[6]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),ke(" "+h(d.value),1)])):E("",!0),w.value?(i(),r("div",Ks,[T[7]||(T[7]=e("i",{class:"fas fa-check-circle"},null,-1)),ke(" "+h(w.value),1)])):E("",!0),S.value?(i(),r("div",js,[e("div",qs,[e("h4",null,"Bubble Chart for Node "+h(f.value),1),e("div",{class:"bubble-chart-actions"},[e("button",{class:"copy-button",onClick:ne},[...T[8]||(T[8]=[e("i",{class:"fas fa-copy"},null,-1),ke(" Copy URL ",-1)])]),e("button",{class:"btn btn-secondary btn-sm",onClick:le},[...T[9]||(T[9]=[e("i",{class:"fas fa-external-link-alt"},null,-1),ke(" Open in New Window ",-1)])])])]),e("div",Gs,[e("iframe",{src:S.value,class:"bubble-chart-iframe",title:"Bubble Chart",frameborder:"0"},null,8,Xs)])])):E("",!0)]),e("div",{class:"modal-footer"},[e("button",{class:"btn btn-secondary",onClick:$}," Close ")])])])):E("",!0)}},Nt=Pe(Ys,[["__scopeId","data-v-081518d4"]]),Js=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),Qs={class:"modal-header"},Zs={class:"modal-body"},eo={key:0,class:"loading"},to={key:1,class:"error"},so={key:2,class:"lsnod-content"},oo={class:"header-info"},no={class:"bubble-chart-link"},ao=["href"],lo={class:"tables-container"},io={class:"left-table"},ro={class:"system-state-table"},uo={class:"value"},co={class:"value"},vo={class:"value"},po={class:"value"},mo={class:"value"},fo={class:"value"},ho={class:"value"},go={class:"value"},bo={class:"value"},yo={class:"value"},_o={class:"value"},ko={class:"value"},So={class:"value"},wo={class:"value"},Eo={class:"value"},To={class:"value"},Co={class:"value"},Ao={class:"value"},No={class:"value"},Do={class:"value"},$o={class:"value"},Ro={class:"value"},Lo={class:"value"},Mo={class:"value"},Uo={class:"value"},Po={class:"value"},Vo={class:"value"},xo={class:"value"},Oo={class:"right-tables"},Io={class:"node-info-table"},Bo={class:"info-table"},Fo={key:0,class:"data-row-1"},Wo={class:"connected-nodes-table"},Ho={class:"info-table"},zo={key:1,class:"data-row-3"},Ko={class:"registry-table"},jo={class:"info-table"},qo={key:1,class:"data-row-white"},Go=We({__name:"LsnodModal",props:{isVisible:{type:Boolean},nodeId:{}},emits:["update:isVisible"],setup(g,{emit:s}){const a=g,c=s,f=m(!1),C=m(""),d=m(null),w=async()=>{var T,l;if(a.nodeId)try{f.value=!0,C.value="";const W=await B.get(`/nodes/${a.nodeId}/lsnodes/web`);W.data.success?d.value=W.data.data:C.value=W.data.message||"Failed to load lsnod data"}catch(W){const te=W;console.error("Error loading lsnod data:",W),C.value=((l=(T=te.response)==null?void 0:T.data)==null?void 0:l.message)||"Failed to load lsnod data"}finally{f.value=!1}},S=()=>{c("update:isVisible",!1)};Ee(()=>a.isVisible,T=>{T&&a.nodeId&&w()},{immediate:!0}),Ee(()=>a.nodeId,T=>{a.isVisible&&T&&w()});const $=()=>{var T;return(T=d.value)!=null&&T.main_node&&d.value.main_node.callsign||"Unknown"},V=()=>{const T=new Date;return T.toLocaleDateString()+" "+T.toLocaleTimeString()},Q=()=>"127.0.0.1",ne=()=>`https://stats.allstarlink.org/getstatus.cgi?${a.nodeId}`,le=T=>{const l=["data-row-1","data-row-2","data-row-3"];return l[T%l.length]},M=T=>{const l=["data-row-1","data-row-2","data-row-3"];return l[T%l.length]};return(T,l)=>{var W,te,F;return g.isVisible?(i(),r("div",{key:0,class:"modal-overlay",onClick:S},[e("div",{class:"modal-content",onClick:l[0]||(l[0]=Ue(()=>{},["stop"]))},[e("div",Qs,[e("h3",null,"lsnod Output for Node "+h(g.nodeId),1),e("button",{class:"close-button",onClick:S},"×")]),e("div",Zs,[f.value?(i(),r("div",eo,[...l[1]||(l[1]=[e("p",null,"Loading lsnod data...",-1)])])):C.value?(i(),r("div",to,[l[2]||(l[2]=e("h4",null,"Error",-1)),e("p",null,h(C.value),1)])):d.value?(i(),r("div",so,[e("div",oo,[e("h2",null,"Status for "+h($())+" - Node "+h(g.nodeId),1),e("p",null,"Last update "+h(V()),1),e("p",null,"My IP - "+h(Q()),1),e("p",no,[e("a",{href:ne(),target:"_blank"},"View this Node Graphically",8,ao)])]),e("div",lo,[e("div",io,[e("table",ro,[e("tr",null,[l[3]||(l[3]=e("td",{class:"label"},"Selected system state:",-1)),e("td",uo,h(d.value.selected_system_state||"0"),1)]),e("tr",null,[l[4]||(l[4]=e("td",{class:"label"},"Signal on input:",-1)),e("td",co,h(d.value.signal_on_input||"NO"),1)]),e("tr",null,[l[5]||(l[5]=e("td",{class:"label"},"System:",-1)),e("td",vo,h(d.value.system||"ENABLED"),1)]),e("tr",null,[l[6]||(l[6]=e("td",{class:"label"},"Parrot Mode:",-1)),e("td",po,h(d.value.parrot_mode||"DISABLED"),1)]),e("tr",null,[l[7]||(l[7]=e("td",{class:"label"},"Scheduler:",-1)),e("td",mo,h(d.value.scheduler||"ENABLED"),1)]),e("tr",null,[l[8]||(l[8]=e("td",{class:"label"},"Tail Time:",-1)),e("td",fo,h(d.value.tail_time||"STANDARD"),1)]),e("tr",null,[l[9]||(l[9]=e("td",{class:"label"},"Time out timer:",-1)),e("td",ho,h(d.value.timeout_timer||"ENABLED"),1)]),e("tr",null,[l[10]||(l[10]=e("td",{class:"label"},"Incoming connections:",-1)),e("td",go,h(d.value.incoming_connections||"ENABLED"),1)]),e("tr",null,[l[11]||(l[11]=e("td",{class:"label"},"Time out timer state:",-1)),e("td",bo,h(d.value.timeout_timer_state||"RESET"),1)]),e("tr",null,[l[12]||(l[12]=e("td",{class:"label"},"Time outs since system initialization:",-1)),e("td",yo,h(d.value.timeouts_since_init||"0"),1)]),e("tr",null,[l[13]||(l[13]=e("td",{class:"label"},"Identifier state:",-1)),e("td",_o,h(d.value.identifier_state||"CLEAN"),1)]),e("tr",null,[l[14]||(l[14]=e("td",{class:"label"},"Kerchunks today:",-1)),e("td",ko,h(d.value.kerchunks_today||"0"),1)]),e("tr",null,[l[15]||(l[15]=e("td",{class:"label"},"Kerchunks since system initialization:",-1)),e("td",So,h(d.value.kerchunks_since_init||"0"),1)]),e("tr",null,[l[16]||(l[16]=e("td",{class:"label"},"Keyups today:",-1)),e("td",wo,h(d.value.keyups_today||"0"),1)]),e("tr",null,[l[17]||(l[17]=e("td",{class:"label"},"Keyups since system initialization:",-1)),e("td",Eo,h(d.value.keyups_since_init||"0"),1)]),e("tr",null,[l[18]||(l[18]=e("td",{class:"label"},"DTMF commands today:",-1)),e("td",To,h(d.value.dtmf_commands_today||"0"),1)]),e("tr",null,[l[19]||(l[19]=e("td",{class:"label"},"DTMF commands since system initialization:",-1)),e("td",Co,h(d.value.dtmf_commands_since_init||"0"),1)]),e("tr",null,[l[20]||(l[20]=e("td",{class:"label"},"Last DTMF command executed:",-1)),e("td",Ao,h(d.value.last_dtmf_command||"N/A"),1)]),e("tr",null,[l[21]||(l[21]=e("td",{class:"label"},"TX time today:",-1)),e("td",No,h(d.value.tx_time_today||"00:00:00:000"),1)]),e("tr",null,[l[22]||(l[22]=e("td",{class:"label"},"TX time since system initialization:",-1)),e("td",Do,h(d.value.tx_time_since_init||"00:00:00:000"),1)]),e("tr",null,[l[23]||(l[23]=e("td",{class:"label"},"Uptime:",-1)),e("td",$o,h(d.value.uptime||"00:00:00"),1)]),e("tr",null,[l[24]||(l[24]=e("td",{class:"label"},"Nodes currently connected to us:",-1)),e("td",Ro,h(d.value.nodes_connected||"0"),1)]),e("tr",null,[l[25]||(l[25]=e("td",{class:"label"},"Autopatch:",-1)),e("td",Lo,h(d.value.autopatch||"ENABLED"),1)]),e("tr",null,[l[26]||(l[26]=e("td",{class:"label"},"Autopatch state:",-1)),e("td",Mo,h(d.value.autopatch_state||"DOWN"),1)]),e("tr",null,[l[27]||(l[27]=e("td",{class:"label"},"Autopatch called number:",-1)),e("td",Uo,h(d.value.autopatch_called_number||"N/A"),1)]),e("tr",null,[l[28]||(l[28]=e("td",{class:"label"},"Reverse patch/IAXRPT connected:",-1)),e("td",Po,h(d.value.reverse_patch||"DOWN"),1)]),e("tr",null,[l[29]||(l[29]=e("td",{class:"label"},"User linking commands:",-1)),e("td",Vo,h(d.value.user_linking_commands||"ENABLED"),1)]),e("tr",null,[l[30]||(l[30]=e("td",{class:"label"},"User functions:",-1)),e("td",xo,h(d.value.user_functions||"ENABLED"),1)])])]),e("div",Oo,[e("div",Io,[e("table",Bo,[l[31]||(l[31]=e("thead",null,[e("tr",{class:"header-row"},[e("th",null,"Node"),e("th",null,"Callsign"),e("th",null,"Frequency"),e("th",null,"Location")])],-1)),e("tbody",null,[(W=d.value)!=null&&W.main_node?(i(),r("tr",Fo,[e("td",null,h(d.value.main_node.node_number),1),e("td",null,h(d.value.main_node.callsign),1),e("td",null,h(d.value.main_node.frequency),1),e("td",null,h(d.value.main_node.location),1)])):E("",!0)])])]),e("div",Wo,[e("table",Ho,[l[33]||(l[33]=e("thead",null,[e("tr",{class:"header-row"},[e("th",null,"Node"),e("th",null,"Peer"),e("th",null,"Reconnects"),e("th",null,"Direction"),e("th",null,"Connect Time"),e("th",null,"Connect State")])],-1)),e("tbody",null,[(te=d.value)!=null&&te.nodes&&d.value.nodes.length>0?(i(!0),r(be,{key:0},De(d.value.nodes,(H,me)=>(i(),r("tr",{key:H.node_number,class:$e(le(me))},[e("td",null,h(H.node_number),1),e("td",null,h(H.peer_ip||"N/A"),1),e("td",null,h(H.reconnects||"N/A"),1),e("td",null,h(H.direction||"N/A"),1),e("td",null,h(H.connect_time||"N/A"),1),e("td",null,h(H.connect_state||"Connected"),1)],2))),128)):(i(),r("tr",zo,[...l[32]||(l[32]=[e("td",null,"No connections",-1),e("td",null,"-",-1),e("td",null,"-",-1),e("td",null,"-",-1),e("td",null,"-",-1),e("td",null,"-",-1)])]))])])]),e("div",Ko,[e("table",jo,[l[35]||(l[35]=e("thead",null,[e("tr",{class:"header-row"},[e("th",null,"Host"),e("th",null,"Username"),e("th",null,"Perceived"),e("th",null,"Refresh"),e("th",null,"State")])],-1)),e("tbody",null,[(F=d.value)!=null&&F.iax_registry&&d.value.iax_registry.length>0?(i(!0),r(be,{key:0},De(d.value.iax_registry,(H,me)=>(i(),r("tr",{key:me,class:$e(M(me))},[e("td",null,h(H.host||"N/A"),1),e("td",null,h(H.username||"N/A"),1),e("td",null,h(H.perceived||"N/A"),1),e("td",null,h(H.refresh||"N/A"),1),e("td",null,h(H.state||"N/A"),1)],2))),128)):(i(),r("tr",qo,[...l[34]||(l[34]=[e("td",null,"No registrations",-1),e("td",null,"-",-1),e("td",null,"-",-1),e("td",null,"-",-1),e("td",null,"-",-1)])]))])])])])])])):E("",!0)]),e("div",{class:"modal-footer"},[e("button",{class:"btn btn-secondary",onClick:S},"Close")])])])):E("",!0)}}}),Dt=Pe(Go,[["__scopeId","data-v-0a5dc5dd"]]),Xo=["id"],Yo=["colspan"],Jo=["innerHTML"],Qo={key:0},Zo={key:1},en={key:0},tn=["colspan"],sn={colspan:"1",align:"center",class:"local-node-number"},on=["colspan"],nn=["innerHTML"],an=["colspan"],ln=["onClick","title"],rn={key:0,align:"center"},un={align:"center"},cn={align:"center"},dn={key:1,align:"right"},vn={align:"center"},pn={key:0},mn={colspan:"2"},fn=["colspan"],hn={key:1},gn=["colspan"],bn=We({__name:"NodeTable",props:{node:{},showDetail:{type:Boolean,default:!0},astdb:{default:()=>({})},config:{default:()=>({})}},emits:["node-click"],setup(g,{expose:s,emit:a}){const c=m(0),f=m(new Map),C=a,d=Je(),w=g,S=m(null),$=m([]),V=m(0),Q=m(0),ne=m(!1),le=m(!1),M=ee(()=>w.showDetail?7:5),T=ee(()=>w.showDetail?"gridtable":"gridtable-large"),l=ee(()=>{var Te,Ce,Ve;const u=w.node.id;let v=w.node.info||"Node not in database";if(w.astdb&&(!v||v===`Node ${u}`||v==="Node not in database"||v.startsWith("Node ")&&v.trim()===`Node ${u}`)){const se=w.astdb[u];if(se&&Array.isArray(se)&&se.length>=4){const Se=se[1]||"N/A",xe=se[2]||"Unknown",ze=se[3]||"N/A";v=`${Se} ${xe} ${ze}`.trim()}}w.node.callsign&&w.node.callsign!=="N/A"&&!v.startsWith(w.node.callsign)&&(v=`${w.node.callsign} ${v}`.trim());const A=`URL_${u}`,K=w.config?w.config[A]:null;let L=v,O="";if(K){let se=K;se.endsWith(">")&&(se=se.slice(0,-1),O='target="_blank"'),L=`<a href="${se}" ${O}>${v}</a>`}const j=v==="Node not in database"||w.config&&((Te=w.config[u])==null?void 0:Te.hideNodeURL)===1,ae=j?"Private Node":"Node";let re=u;if(j){if(K){let se=K;se.endsWith(">")&&(se=se.slice(0,-1)),re=`<a href="${se}" ${O}>${u}</a>`}}else{const se=parseInt(u)>=2e3?`http://stats.allstarlink.org/nodeinfo.cgi?node=${encodeURIComponent(u)}`:"";if(se)re=`<a href="${se}" target="_blank">${u}</a>`;else if(K){let Se=K;Se.endsWith(">")&&(Se=Se.slice(0,-1)),re=`<a href="${Se}" ${O}>${u}</a>`}}const fe=[],ue=[];!j&&parseInt(u)>=2e3&&ue.push(`<a href="#" class="bubble-chart-modal-link" data-node-id="${u}">Bubble Chart</a>`),ue.push(`<a href="#" class="lsnod-modal-link" data-node-id="${u}">lsNodes</a>`),w.config&&((Ce=w.config[u])!=null&&Ce.listenlive)&&fe.push(`<a href="${w.config[u].listenlive}" target="_blank">Listen Live</a>`),w.config&&((Ve=w.config[u])!=null&&Ve.archive)&&fe.push(`<a href="${w.config[u].archive}" target="_blank">Archive</a>`);let ge=`  ${ae} ${re} => ${L}  `;return ue.length>0&&(ge+="<br>"+ue.join("    ")),fe.length>0&&(ge+="<br>"+fe.join("  ")),ge}),W=ee(()=>{if(!S.value)return"";const u=S.value.cos_keyed||0,v=S.value.tx_keyed||0;let A="";return u===0?v===0?A="gColor":A="tColor":v===0?A="lColor":A="bColor",A}),te=ee(()=>{if(!S.value)return"";const u=S.value.cos_keyed||0,v=S.value.tx_keyed||0;let A="";return u===0?v===0?A="Idle":A="PTT-Keyed":v===0?A="COS-Detected":A="COS-Detected and PTT-Keyed (Full-Duplex)",S.value.cpu_temp&&(A==="PTT-Keyed"&&(A="PTT-KEYED"),A==="COS-Detected"&&(A="COS-DETECTED"),A==="COS-Detected and PTT-Keyed (Full-Duplex)"&&(A="COS-Detected and PTT-Keyed (Full Duplex)")),A}),F=ee(()=>{if(!S.value||!S.value.cpu_temp)return"";const u=[];S.value.ALERT&&u.push(S.value.ALERT),S.value.WX&&u.push(S.value.WX);const v=`CPU=${S.value.cpu_temp}`;return S.value.cpu_up?u.push(v+` - ${S.value.cpu_up}`):u.push(v),S.value.cpu_load&&u.push(S.value.cpu_load),S.value.DISK&&u.push(S.value.DISK),u.length>0?u.join("<br>"):""}),H=ee(()=>Ye(l.value)),me=ee(()=>Ye(F.value)),Re=ee(()=>{if(!S.value)return 1;const u=S.value.cos_keyed||0,v=S.value.tx_keyed||0;return u===1&&v===1?2:1}),U=ee(()=>{if(!S.value)return 5;const u=S.value.cos_keyed||0,v=S.value.tx_keyed||0;return u===1&&v===1?4:5}),q=ee(()=>{var v,A,K,L;if(!$.value)return[];const u=$.value.filter(O=>{const j=O.link==="ESTABLISHED"||O.link==="CONNECTING",ae=O.node!==1||O.info&&O.info!=="NO CONNECTION";return j&&ae});if((A=(v=d.user)==null?void 0:v.preferences)!=null&&A.showAll)return u;{const O=((L=(K=d.user)==null?void 0:K.preferences)==null?void 0:L.displayedNodes)||999;return u.slice(0,O)}}),z=ee(()=>V.value>Q.value&&V.value>1),x=(u,v)=>{let A="";return v===0?u.keyed==="yes"?A=u.mode==="R"?"rxkColor":"rColor":u.mode==="C"?A="cColor":u.mode==="R"?A="rxColor":A="firstNodeColor":A="gColor",A},Y=u=>{switch(u){case"R":return"RX Only";case"T":return"Transceive";case"C":return"Connecting";case"Echolink":return"Echolink";case"Local RX":return"Local RX";default:return u||"n/a"}},P=()=>{window.scrollTo(0,0)},ie=u=>{C("node-click",u,w.node.id)},n=()=>{ne.value=!0},b=()=>{le.value=!0},R=u=>{var v,A;if(S.value=u,u&&u.remote_nodes){$.value=u.remote_nodes,V.value=$.value.length;const K=((A=(v=d.user)==null?void 0:v.preferences)==null?void 0:A.displayedNodes)||999;Q.value=Math.min(V.value,K),$.value.forEach(L=>{const O=`${w.node.id}-${L.node}`;let j=null,ae=null;if(L.elapsed&&L.elapsed!=="N/A"&&L.elapsed!=="unknown"&&L.elapsed!==""){const ue=L.elapsed.match(/(\d+):(\d+):(\d+)/);if(ue){const ge=parseInt(ue[1]),Te=parseInt(ue[2]),Ce=parseInt(ue[3]);j=ge*3600+Te*60+Ce,ae=Date.now()}else{const ge=parseInt(L.elapsed);isNaN(ge)||(j=ge,ae=Date.now())}}let re=null,fe=null;if(L.last_keyed&&L.last_keyed!=="-1"&&L.last_keyed!=="N/A"&&L.last_keyed!=="n/a"){const ue=parseInt(L.last_keyed);!isNaN(ue)&&ue>=0&&(re=ue,fe=Date.now())}f.value.set(O,{elapsedBase:j,elapsedTimestamp:ae,lastKeyedBase:re,lastKeyedTimestamp:fe})})}else $.value=[],V.value=0,Q.value=0,f.value.clear()},D=()=>{};Cs(()=>{});const _=(u,v)=>{if(c.value,!u||u==="N/A"||u==="n/a")return"N/A";if(u===-1||u==="-1"||u==="-1")return"Never";const A=$.value[v];if(!A)return"N/A";const K=`${w.node.id}-${A.node}`,L=f.value.get(K);let O=null;if(L&&L.lastKeyedBase!==null&&L.lastKeyedTimestamp!==null){const j=Math.floor((Date.now()-L.lastKeyedTimestamp)/1e3);O=L.lastKeyedBase+j}else{const j=parseInt(u);!isNaN(j)&&j>=0&&(O=j)}if(O!==null){const j=Math.floor(O/3600),ae=Math.floor(O%3600/60),re=O%60;return`${j.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`}return String(u)},Z=(u,v)=>{if(c.value,!u||u==="N/A"||u==="unknown"||u==="")return"N/A";const A=$.value[v];if(!A)return"N/A";const K=`${w.node.id}-${A.node}`,L=f.value.get(K);let O=null;if(L&&L.elapsedBase!==null&&L.elapsedTimestamp!==null){const j=Math.floor((Date.now()-L.elapsedTimestamp)/1e3);O=L.elapsedBase+j}else{const j=u.match(/(\d+):(\d+):(\d+)/);if(j){const ae=parseInt(j[1]),re=parseInt(j[2]),fe=parseInt(j[3]);O=ae*3600+re*60+fe}else{const ae=parseInt(u);isNaN(ae)||(O=ae)}}if(O!==null){const j=Math.floor(O/3600),ae=Math.floor(O%3600/60),re=O%60;return`${j.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}:${re.toString().padStart(2,"0")}`}return String(u)},he=u=>{const v=u.target;v.classList.contains("bubble-chart-modal-link")?(u.preventDefault(),u.stopPropagation(),n()):v.classList.contains("lsnod-modal-link")&&(u.preventDefault(),u.stopPropagation(),b())};let ve=null;return Qe(()=>{const u=document.querySelector(`#table_${w.node.id}`);u&&u.addEventListener("click",he),ve=setInterval(()=>{c.value=Date.now()},1e3)}),At(()=>{const u=document.querySelector(`#table_${w.node.id}`);u&&u.removeEventListener("click",he),ve&&(clearInterval(ve),ve=null),f.value.clear()}),s({updateNodeData:R,refreshData:D}),(u,v)=>(i(),r(be,null,[e("table",{class:$e(T.value),id:`table_${g.node.id}`},[e("thead",null,[e("tr",null,[e("th",{colspan:M.value},[e("i",{innerHTML:H.value},null,8,Jo)],8,Yo)]),e("tr",null,[v[2]||(v[2]=e("th",null,"Node",-1)),v[3]||(v[3]=e("th",null,"Node Information",-1)),g.showDetail?(i(),r("th",Qo,"Received")):E("",!0),v[4]||(v[4]=e("th",null,"Link",-1)),v[5]||(v[5]=e("th",null,"Dir",-1)),g.showDetail?(i(),r("th",Zo,"Connected")):E("",!0),v[6]||(v[6]=e("th",null,"Mode",-1))])]),e("tbody",null,[S.value?(i(),r(be,{key:1},[e("tr",{class:$e(W.value)},[e("td",sn,h(g.node.id),1),e("td",{colspan:Re.value,align:"center"},[e("b",null,[ke(h(te.value),1),e("span",{innerHTML:me.value},null,8,nn)])],8,on),e("td",{colspan:U.value},null,8,an)],2),$.value&&$.value.length>0?(i(),r(be,{key:0},[(i(!0),r(be,null,De(q.value,(A,K)=>(i(),r("tr",{key:`${g.node.id}-${K}`,class:$e(x(A,K))},[e("td",{class:"nodeNum",align:"center",onClick:L=>ie(A.node),title:`Click to set ${A.node} as target node`},h(A.node),9,ln),e("td",null,h(A.info||A.ip||"Unknown"),1),g.showDetail?(i(),r("td",rn,h(_(A.last_keyed,K)),1)):E("",!0),e("td",un,h(A.link||"n/a"),1),e("td",cn,h(A.direction||"n/a"),1),g.showDetail?(i(),r("td",dn,h(Z(A.elapsed,K)),1)):E("",!0),e("td",vn,h(Y(A.mode)),1)],2))),128)),z.value&&V.value>Q.value?(i(),r("tr",pn,[e("td",mn,[ke(h(Q.value)+" shown of "+h(V.value)+" nodes connected ",1),e("a",{href:"#",onClick:P},"^^^")]),e("td",{colspan:g.showDetail?5:3},null,8,fn)])):E("",!0)],64)):(i(),r("tr",hn,[e("td",{colspan:M.value},"No Connections.",8,gn)]))],64)):(i(),r("tr",en,[e("td",{colspan:M.value}," Waiting...",8,tn)]))])],10,Xo),v[7]||(v[7]=e("br",null,null,-1)),ne.value?(i(),mt(Nt,{key:0,open:ne.value,localNode:g.node.id,"onUpdate:open":v[0]||(v[0]=A=>ne.value=A)},null,8,["open","localNode"])):E("",!0),le.value?(i(),mt(Dt,{key:1,isVisible:le.value,nodeId:g.node.id,"onUpdate:isVisible":v[1]||(v[1]=A=>le.value=A)},null,8,["isVisible","nodeId"])):E("",!0)],64))}}),yn=Pe(bn,[["__scopeId","data-v-8e065ade"]]),_n={class:"login-form-container"},kn={class:"form-group"},Sn={class:"input-wrapper"},wn={key:0,class:"error-text"},En={class:"form-group"},Tn={class:"input-wrapper"},Cn=["type"],An=["aria-label"],Nn={width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},Dn={key:0,d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},$n={key:1,d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},Rn={key:2,cx:"12",cy:"12",r:"3"},Ln={key:3,x1:"1",y1:"1",x2:"23",y2:"23"},Mn={key:0,class:"error-text"},Un={key:0,class:"error-message"},Pn={class:"form-actions"},Vn=["disabled"],xn={key:0,class:"loading-spinner"},On={key:1},In=We({__name:"LoginForm",emits:["login-success","login-cancel"],setup(g,{emit:s}){const a=s,c=Je(),f=m(""),C=m(""),d=m(!1),w=m(""),S=m(!1),$=m(""),V=m(""),Q=ee(()=>f.value.trim()&&C.value.trim()&&!$.value&&!V.value),ne=()=>{f.value.trim()?f.value.length<2?$.value="Username must be at least 2 characters":$.value="":$.value="Username is required"},le=()=>{C.value.trim()?C.value.length<1?V.value="Password is required":V.value="":V.value="Password is required"},M=()=>{$.value&&($.value="")},T=()=>{V.value&&(V.value="")},l=()=>{S.value=!S.value},W=async()=>{var te,F;if(ne(),le(),!!Q.value){d.value=!0,w.value="";try{await c.login(f.value.trim(),C.value),a("login-success")}catch(H){w.value=((F=(te=H.response)==null?void 0:te.data)==null?void 0:F.message)||"Login failed. Please check your credentials."}finally{d.value=!1}}};return(te,F)=>(i(),r("div",_n,[e("form",{onSubmit:Ue(W,["prevent"]),class:"login-form"},[e("div",kn,[F[4]||(F[4]=e("label",{for:"username",class:"form-label"},"Username",-1)),e("div",Sn,[Me(e("input",{id:"username","onUpdate:modelValue":F[0]||(F[0]=H=>f.value=H),type:"text",required:"",class:$e(["form-input",{error:$.value}]),placeholder:"Enter your username",onInput:M,onBlur:ne},null,34),[[Xe,f.value]]),F[3]||(F[3]=e("div",{class:"input-icon"},[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})])],-1))]),$.value?(i(),r("span",wn,h($.value),1)):E("",!0)]),e("div",En,[F[6]||(F[6]=e("label",{for:"password",class:"form-label"},"Password",-1)),e("div",Tn,[Me(e("input",{id:"password","onUpdate:modelValue":F[1]||(F[1]=H=>C.value=H),type:S.value?"text":"password",required:"",class:$e(["form-input",{error:V.value}]),placeholder:"Enter your password",onInput:T,onBlur:le},null,42,Cn),[[Ns,C.value]]),F[5]||(F[5]=As('<div class="input-icon" data-v-317cc275><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-317cc275><rect x="3" y="11" width="18" height="11" rx="2" ry="2" data-v-317cc275></rect><circle cx="12" cy="16" r="1" data-v-317cc275></circle><path d="M7 11V7a5 5 0 0 1 10 0v4" data-v-317cc275></path></svg></div>',1)),e("button",{type:"button",class:"password-toggle",onClick:l,"aria-label":S.value?"Hide password":"Show password"},[(i(),r("svg",Nn,[S.value?(i(),r("path",Dn)):(i(),r("path",$n)),S.value?E("",!0):(i(),r("circle",Rn)),S.value?(i(),r("line",Ln)):E("",!0)]))],8,An)]),V.value?(i(),r("span",Mn,h(V.value),1)):E("",!0)]),w.value?(i(),r("div",Un,[F[7]||(F[7]=e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e("line",{x1:"9",y1:"9",x2:"15",y2:"15"})],-1)),ke(" "+h(w.value),1)])):E("",!0),e("div",Pn,[e("button",{type:"button",onClick:F[2]||(F[2]=H=>te.$emit("login-cancel")),class:"cancel-button"}," Cancel "),e("button",{type:"submit",class:$e(["login-button",{loading:d.value}]),disabled:d.value||!Q.value},[d.value?(i(),r("span",xn)):(i(),r("span",On,"Sign In"))],10,Vn)])],32)]))}}),Bn=Pe(In,[["__scopeId","data-v-317cc275"]]),Fn={class:"url-modal-header"},Wn={class:"url-modal-body"},Hn=["src"],zn={key:1,class:"url-loading"},Kn=We({__name:"UrlModal",props:{isVisible:{type:Boolean},url:{},title:{default:"External Content"}},emits:["update:isVisible"],setup(g,{emit:s}){const a=s,c=()=>{a("update:isVisible",!1)};return(f,C)=>g.isVisible?(i(),r("div",{key:0,class:"url-modal-overlay",onClick:c},[e("div",{class:"url-modal-content",onClick:C[0]||(C[0]=Ue(()=>{},["stop"]))},[e("div",Fn,[e("h3",null,h(g.title),1),e("button",{class:"url-modal-close",onClick:c},"×")]),e("div",Wn,[g.url?(i(),r("iframe",{key:0,src:g.url,class:"url-iframe",frameborder:"0",allowfullscreen:""},null,8,Hn)):(i(),r("div",zn," Loading... "))])])])):E("",!0)}}),jn=Pe(Kn,[["__scopeId","data-v-fc20585e"]]),qn={key:0,id:"menu"},Gn=["onClick"],Xn={href:"#",class:"dropbtn"},Yn={class:"dropdown-content"},Jn=["onClick"],Qn=We({__name:"Menu",emits:["nodeSelection"],setup(g,{emit:s}){const a=Je(),c=m({}),f=m(!1),C=m(!1),d=m(""),w=m(""),S=m(!1),$=m(""),V=async()=>{try{f.value=!0;const M=await B.get("/config/menu");M.data.success&&M.data.data&&Object.keys(M.data.data).length>0&&(c.value=M.data.data)}catch(M){console.error("Failed to load menu:",M)}finally{f.value=!1}},Q=s,ne=(M,T)=>{if(T.preventDefault(),M.url.startsWith("link.php")||M.url.startsWith("voter.php")){const W=new URLSearchParams(M.url.split("?")[1]).get("nodes");W&&Q("nodeSelection",W)}else if(M.url.startsWith("/lsnod/")){const l=M.url.replace("/lsnod/","");$.value=l,S.value=!0}else if(M.url.startsWith("http"))M.targetBlank?window.open(M.url,"_blank","noopener,noreferrer"):(d.value=M.url,w.value=M.name,C.value=!0);else if(M.url.includes("nodes=")){const W=new URLSearchParams(M.url.split("?")[1]).get("nodes");W&&Q("nodeSelection",W)}},le=()=>{const M={};for(const[T,l]of Object.entries(c.value))T!=="mainItems"&&(M[T]=l);return M};return Qe(()=>{V()}),Ee(()=>a.isAuthenticated,()=>{setTimeout(()=>{V()},100)}),(M,T)=>(i(),r(be,null,[c.value&&Object.keys(c.value).length>0?(i(),r("div",qn,[e("ul",null,[(i(!0),r(be,null,De(c.value.mainItems||[],l=>(i(),r("li",{key:l.name},[e("a",{href:"#",onClick:W=>ne(l,W)},h(l.name),9,Gn)]))),128)),(i(!0),r(be,null,De(le(),(l,W)=>(i(),r("li",{key:W,class:"dropdown"},[e("a",Xn,h(W),1),e("div",Yn,[(i(!0),r(be,null,De(l,te=>(i(),r("a",{key:te.name,href:"#",onClick:F=>ne(te,F)},h(te.name),9,Jn))),128))])]))),128))])])):E("",!0),I(jn,{isVisible:C.value,"onUpdate:isVisible":T[0]||(T[0]=l=>C.value=l),url:d.value,title:w.value},null,8,["isVisible","url","title"]),I(Dt,{isVisible:S.value,"onUpdate:isVisible":T[1]||(T[1]=l=>S.value=l),nodeId:$.value},null,8,["isVisible","nodeId"])],64))}}),Zn=Pe(Qn,[["__scopeId","data-v-5b6e3961"]]),ea={class:"dashboard"},ta={href:"#"},sa=["href","target"],oa={key:1},na={class:"header-tag"},aa=["innerHTML"],la={key:1,class:"header-login"},ia={key:2,class:"header-logout"},ra={class:"header-logout2"},ua=["href","target"],ca=["src"],da=["src"],va={key:4,class:"header-img"},pa=["href","target"],ma={key:0,class:"datetime-display"},fa=["innerHTML"],ha={key:2,id:"connect_form",style:{"text-align":"center"}},ga={key:0},ba=["value"],ya=["value"],_a={key:3,class:"perm-label"},ka={class:"button-container"},Sa={style:{"text-align":"center"}},wa={key:0,class:"no-nodes-message"},Ea={key:1,class:"node-tables-container"},Ta={key:3,id:"footer"},Ca=We({__name:"Dashboard",setup(g){const s=X(()=>G(()=>import("./DisplayConfig-CMoneDrY.js"),__vite__mapDeps([0,1,2,3,4]))),a=X(()=>G(()=>import("./AddFavorite-CuYV14O2.js"),__vite__mapDeps([5,1,2,3,6]))),c=X(()=>G(()=>import("./DeleteFavorite-DJ5YktsU.js"),__vite__mapDeps([7,1,2,3,8]))),f=X(()=>G(()=>import("./Favorites-B4G35OUI.js"),__vite__mapDeps([9,1,2,3,5,6,10]))),C=X(()=>G(()=>import("./DVSwitchModal-C5hX-77L.js"),__vite__mapDeps([11,1,2,3,12]))),d=X(()=>G(()=>import("./AstLog-CF4JGWaS.js"),__vite__mapDeps([13,1,2,3,14]))),w=X(()=>G(()=>import("./AstLookup-BOyRgWr3.js"),__vite__mapDeps([15,1,2,3,16]))),S=X(()=>G(()=>Promise.resolve().then(()=>Js),void 0)),$=X(()=>G(()=>import("./ControlPanel-Dk92Rbi2.js"),__vite__mapDeps([17,1,2,3,18]))),V=X(()=>G(()=>import("./RptStats-CRVlevi4.js"),__vite__mapDeps([19,1,2,3,20]))),Q=X(()=>G(()=>import("./CpuStats-CO0Ij75W.js"),__vite__mapDeps([21,1,2,3,22]))),ne=X(()=>G(()=>import("./Database-DEJWlMnA.js"),__vite__mapDeps([23,1,2,3,24]))),le=X(()=>G(()=>import("./Donate-OGTHe_u0.js"),__vite__mapDeps([25,1,2,3,26]))),M=X(()=>G(()=>import("./ExtNodes-DYPSBJZk.js"),__vite__mapDeps([27,1,2,3,28]))),T=X(()=>G(()=>import("./FastRestart-BqNi2V9s.js"),__vite__mapDeps([29,1,2,3,30]))),l=X(()=>G(()=>import("./IRLPLog-DW_krN2E.js"),__vite__mapDeps([31,1,2,3,32]))),W=X(()=>G(()=>import("./LinuxLog-i3e-szJB.js"),__vite__mapDeps([33,1,2,3,34]))),te=X(()=>G(()=>import("./BanAllow-BIpS0fad.js"),__vite__mapDeps([35,1,2,3,36]))),F=X(()=>G(()=>import("./PiGPIO-CDT0WbcD.js"),__vite__mapDeps([37,1,2,3,38]))),H=X(()=>G(()=>import("./Reboot-CUNXBieA.js"),__vite__mapDeps([39,1,2,3,40]))),me=X(()=>G(()=>import("./SMLog-r20DeRxY.js"),__vite__mapDeps([41,1,2,3,42]))),Re=X(()=>G(()=>import("./Stats-C65dRMwU.js"),__vite__mapDeps([43,1,2,3,44]))),U=X(()=>G(()=>import("./WebAccLog-Ddz8LojG.js"),__vite__mapDeps([45,1,2,3,46]))),q=X(()=>G(()=>import("./WebErrLog-CWoCWAoy.js"),__vite__mapDeps([47,1,2,3,48]))),z=X(()=>G(()=>import("./Voter-O86hGT0A.js"),__vite__mapDeps([49,1,2,3,50,51]))),x=X(()=>G(()=>import("./ConfigEditor-CLCTtZlp.js"),__vite__mapDeps([52,1,2,3,53]))),Y=X(()=>G(()=>import("./SystemInfo-hSybRPKa.js"),__vite__mapDeps([54,1,2,3,55]))),P=X(()=>G(()=>import("./DigitalDashboard-B0S1H-fh.js"),__vite__mapDeps([56,1,2,3,57]))),ie=X(()=>G(()=>import("./NodeStatus-DNzlGiZA.js"),__vite__mapDeps([58,1,2,3,59]))),n=Je(),b=Os(),R=m(""),D=m(""),_=m(""),Z=m(!1),he=m(""),ve=m(!0);let u=null;const v=()=>{const o=new Date,t={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};he.value=o.toLocaleString("en-US",t)},A=()=>{const o=document.cookie.split(";").reduce((t,y)=>{const[oe,J]=y.trim().split("=");if(oe.startsWith("display-data[")){const we=oe.replace("display-data[","").replace("]","");t[we]=J}return t},{});ve.value=o["show-date-time"]!=="0"},K=m(!1),L=m(!1),O=m(!1),j=m(!1),ae=m(!1),re=m(!1),fe=m(!1),ue=m(!1),ge=m(!1),Te=m(!1),Ce=m(!1),Ve=m(!1),se=m(!1),Se=m(!1),xe=m(!1),ze=m(!1),Ze=m(!1),et=m(!1),tt=m(!1),st=m(!1),ft=m(!1),ot=m(!1),nt=m(!1),at=m(!1),lt=m(!1),it=m(!1),rt=m(!1),ut=m(!1),ct=m([]),N=m(null),Ae=m(null),dt=m(!1),Ke=m(!1),ht=m(null),je=m(!0),$t=ee(()=>n.isAuthenticated?n.hasPermission("CONNECTUSER")||n.hasPermission("DISCONNECTUSER")||n.hasPermission("MONITORUSER")||n.hasPermission("PERMUSER"):!1),Oe=ee(()=>b.nodes),ce=ee(()=>{if(!R.value)return[];const o=String(R.value);if(o.includes(",")){const y=o.split(",").map(J=>J.trim());return Oe.value.filter(J=>y.includes(String(J.id))||y.includes(String(J.node_number||J.id))).map(J=>({...J,id:String(J.id)}))}const t=Oe.value.filter(y=>String(y.id)===o||String(y.node_number||y.id)===o);return t.length===0&&o&&Oe.value.length>0?[{id:o,node_number:parseInt(o),callsign:`Node ${o}`,description:"Loading...",location:"Unknown",status:"unknown",last_heard:void 0,connected_nodes:[],cos_keyed:0,tx_keyed:0,cpu_temp:void 0,alert:void 0,wx:void 0,disk:void 0,is_online:!1,is_keyed:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),info:`Node ${o}`}]:t.map(y=>({...y,id:String(y.id)}))}),gt=ee(()=>{var t;const o=Ae.value||((t=N.value)==null?void 0:t.customHeaderBackground);return o?`url('${o}')`:null}),Rt=()=>{var t,y,oe;const o=[];return(t=N.value)!=null&&t.location&&o.push(N.value.location),(y=N.value)!=null&&y.title2&&o.push(N.value.title2),(oe=N.value)!=null&&oe.title3&&o.push(N.value.title3),o.join("<br>")},vt=o=>o.endsWith(">")?o.slice(0,-1):o,pt=o=>o.endsWith(">"),Lt=ee(()=>{var t;if(!((t=N.value)!=null&&t.logoName))return{};const o={position:"absolute",border:"0px"};return N.value.logoPositionTop&&(o.top=N.value.logoPositionTop),N.value.logoPositionRight&&(o.right=N.value.logoPositionRight),o}),bt=ee(()=>{var o,t;return n.isAuthenticated&&((o=N.value)!=null&&o.welcomeMsgLogged)?N.value.welcomeMsgLogged:!n.isAuthenticated&&((t=N.value)!=null&&t.welcomeMsg)?N.value.welcomeMsg:null}),Mt=ee(()=>{var o,t;return n.isAuthenticated&&((o=N.value)!=null&&o.titleLogged)?N.value.titleLogged:!n.isAuthenticated&&((t=N.value)!=null&&t.titleNotLogged)?N.value.titleNotLogged:n.isAuthenticated?"Supermon-ng AllStar Manager":"Supermon-ng AllStar Monitor"}),Ut=ee(()=>{var t,y;const o=n.isAuthenticated?(t=N.value)==null?void 0:t.titleLoggedColor:(y=N.value)==null?void 0:y.titleNotLoggedColor;return o?{color:o}:{}}),Pt=ee(()=>{var o;return(o=N.value)!=null&&o.callsignColor?{color:N.value.callsignColor}:{}});Ee(R,o=>{if(o){const t=String(o);if(t.includes(",")){const y=t.split(",").map(oe=>oe.trim());y.length>0&&(D.value=y[0])}else D.value=t}},{immediate:!0}),Ee(ce,o=>{o.length===1&&!D.value&&(D.value=String(o[0].id))},{immediate:!0}),Ee(N,o=>{o!=null&&o.smServerName&&(document.title=o.smServerName)},{immediate:!0});const Vt=()=>{const o=String(R.value);if(o.includes(",")){const t=o.split(",").map(y=>y.trim());t.forEach(y=>{b.startMonitoring(y)}),t.length>0&&(D.value=t[0])}else D.value=o,b.startMonitoring(o)},xt=async()=>{if(!(!_.value||!D.value))try{(await B.post("/nodes/connect",{localnode:D.value,remotenode:_.value,perm:Z.value?"on":null})).data.success&&await b.fetchNodeData()}catch{}},Ot=async()=>{if(!(!_.value||!D.value))try{(await B.post("/nodes/disconnect",{localnode:D.value,remotenode:_.value,perm:null})).data.success&&await b.fetchNodeData()}catch{}},It=async()=>{if(!(!_.value||!D.value))try{(await B.post("/nodes/monitor",{localnode:D.value,remotenode:_.value,perm:null})).data.success&&await b.fetchNodeData()}catch{}},Bt=async()=>{if(!(!_.value||!D.value))try{(await B.post("/nodes/local-monitor",{localnode:D.value,remotenode:_.value,perm:null})).data.success&&await b.fetchNodeData()}catch{}},Ft=async()=>{const o=prompt("Enter DTMF command:");if(!o||o.trim()==="")return;let t=null;if(D.value?t=D.value:R.value?t=String(R.value).split(",")[0]:ce.value.length===1?t=String(ce.value[0].id):Oe.value.length===1&&(t=String(Oe.value[0].id)),!t){alert("No local node selected. Please select a node first.");return}try{(await B.post("/nodes/dtmf",{localnode:t,dtmf:o.trim()})).data.success&&await b.fetchNodeData()}catch{}},Wt=async()=>{try{fe.value=!0}catch{}},Ht=async()=>{try{Te.value=!0}catch{}},zt=async()=>{try{ue.value=!0}catch{}},Kt=async()=>{var o;try{(o=N.value)!=null&&o.dvmUrl&&(dt.value=!0)}catch{}},jt=async()=>{try{Ke.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert("Error opening Node Status: "+t)}},qt=async()=>{try{it.value=!0}catch{}},Gt=async()=>{var o,t;try{const y=await B.post("/config/asterisk/reload",{});y.data.success?alert(`Asterisk configuration reload completed successfully!

`+y.data.results.join(`
`)):alert("Error: "+y.data.message)}catch(y){alert("Error executing Asterisk reload: "+(((t=(o=y.response)==null?void 0:o.data)==null?void 0:t.message)||y.message))}},Xt=async()=>{var o,t;try{if(!confirm("Are you sure you want to START the AllStar service? This will bring the service online."))return;const y=await B.post("/config/asterisk/control",{action:"start"});y.data.success?alert(`AllStar service started successfully!

`+y.data.output.join(`
`)):alert("Error: "+y.data.message)}catch(y){alert("Error starting AllStar service: "+(((t=(o=y.response)==null?void 0:o.data)==null?void 0:t.message)||y.message))}},Yt=async()=>{var o,t;try{if(!confirm("Are you sure you want to STOP the AllStar service? This will bring the service offline."))return;const y=await B.post("/config/asterisk/control",{action:"stop"});y.data.success?alert(`AllStar service stopped successfully!

`+y.data.output.join(`
`)):alert("Error: "+y.data.message)}catch(y){alert("Error stopping AllStar service: "+(((t=(o=y.response)==null?void 0:o.data)==null?void 0:t.message)||y.message))}},Jt=async()=>{try{if(D.value)xe.value=!0;else if(R.value)xe.value=!0;else{alert("Please select a node first to perform fast restart.");return}}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open FastRestart: ${t}`)}},Qt=async()=>{try{st.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Server Reboot: ${t}`)}},Zt=async()=>{try{window.open("https://allstarlink.github.io/adv-topics/","AllStarHelp","status=no,location=no,toolbar=yes,width=800,height=600,left=100,top=100")}catch{}},es=async()=>{try{window.open("https://wiki.allstarlink.org","AllStarWiki","status=no,location=no,toolbar=yes,width=800,height=600,left=100,top=100")}catch{}},ts=async()=>{try{Ce.value=!0}catch{}},ss=async()=>{try{const o=prompt("Enter node number for AllStar Status:");if(!o||o.trim()==="")return;if(!/^\d+$/.test(o.trim())){alert("Please enter a valid numeric node number");return}_.value=o.trim(),ot.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open AllStar Statistics: ${t}`)}},os=async()=>{try{window.open("https://stats.allstarlink.org/","ActiveNodes","status=no,location=no,toolbar=yes,width=1200,height=800,left=100,top=100")}catch{}},ns=async()=>{try{window.open("https://www.allstarlink.org/nodelist/","AllNodes","status=no,location=no,toolbar=yes,width=1200,height=800,left=100,top=100")}catch{}},as=async()=>{try{Ve.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Database: ${t}`)}},ls=async()=>{try{tt.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Pi GPIO: ${t}`)}},is=async()=>{try{Ze.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Linux Log: ${t}`)}},rs=async()=>{try{re.value=!0}catch{}},us=async()=>{try{nt.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Web Access Log: ${t}`)}},cs=async()=>{try{at.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Web Error Log: ${t}`)}},ds=async()=>{try{et.value=!0}catch(o){const t=o instanceof Error?o.message:"Unknown error";alert(`Failed to open Ban/Allow: ${t}`)}},vs=async()=>{try{rt.value=!0}catch{}},ps=async()=>{var o;K.value=!1,await n.checkAuth();try{const t=await B.get("/config/nodes");if(t.data.success&&((o=t.data.data)!=null&&o.default_node)){const y=t.data.data.default_node;if(R.value=y,y.includes(",")){const oe=y.split(",").map(J=>J.trim());for(const J of oe)await b.startMonitoring(J)}else await b.startMonitoring(y)}}catch{}},ms=async()=>{var o;await n.logout();try{const t=await B.get("/config/nodes");if(t.data.success&&((o=t.data.data)!=null&&o.default_node)){const y=t.data.data.default_node;if(R.value=y,y.includes(",")){const oe=y.split(",").map(J=>J.trim());for(const J of oe)await b.startMonitoring(J)}else await b.startMonitoring(y)}}catch{}},fs=()=>{se.value=!0},hs=async o=>{b.nodes.length===0&&await b.initialize(),R.value=o,Vt()},gs=(o,t)=>{_.value=o,D.value=t;const y=document.getElementById("connect_form");y&&y.scrollIntoView({behavior:"smooth",block:"center"})},bs=o=>{window.location.reload()},ys=o=>{},_s=o=>{},ks=o=>{};return Ds(async()=>{const o=new AbortController,t=setTimeout(()=>o.abort(),50);try{const y=await fetch("/supermon-ng/api/config/header-background",{method:"GET",cache:"no-cache",signal:o.signal});if(clearTimeout(t),y.ok){Ae.value="/supermon-ng/api/config/header-background";return}}catch{clearTimeout(t)}}),Qe(async()=>{var t,y,oe,J,we,He;A(),ve.value&&(v(),u=setInterval(v,1e3)),await b.initialize();const o=n.bootstrapData;if((o==null?void 0:o.systemInfo)!=null||(o==null?void 0:o.databaseStatus)!=null||(o==null?void 0:o.nodes)!=null){o.systemInfo&&(N.value=o.systemInfo,(t=N.value)!=null&&t.customHeaderBackground?Ae.value=N.value.customHeaderBackground:Ae.value||(Ae.value="/supermon-ng/background.jpg"),(y=N.value)!=null&&y.smServerName&&(document.title=N.value.smServerName)),o.databaseStatus&&(ht.value=o.databaseStatus);const pe=(oe=o.nodes)==null?void 0:oe.default_node;if(pe){if(R.value=pe,pe.includes(",")){const Ne=pe.split(",").map(ye=>ye.trim());for(const ye of Ne)await b.startMonitoring(ye)}else await b.startMonitoring(pe);await qe(),je.value=!1}else je.value=!1}else try{const[pe,Ne,ye]=await Promise.all([B.get("/config/system-info"),B.get("/database/status"),B.get("/config/nodes")]);if(pe.data.success&&(N.value=pe.data.data||pe.data,(J=N.value)!=null&&J.customHeaderBackground?Ae.value=N.value.customHeaderBackground:Ae.value||(Ae.value="/supermon-ng/background.jpg"),(we=N.value)!=null&&we.smServerName&&(document.title=N.value.smServerName)),Ne.data.success&&(ht.value=Ne.data.data||Ne.data),ye.data.success&&((He=ye.data.data)!=null&&He.default_node)){const _e=ye.data.data.default_node;if(R.value=_e,_e.includes(",")){const Ie=_e.split(",").map(Be=>Be.trim());for(const Be of Ie)await b.startMonitoring(Be)}else await b.startMonitoring(_e);await qe(),await new Promise(Ie=>setTimeout(Ie,100))}else if(b.nodes.length>0){const _e=b.nodes[0];R.value=String(_e.id),await b.startMonitoring(String(_e.id))}je.value=!1}catch(pe){console.error("Error loading system info and default nodes:",pe),je.value=!1}}),At(()=>{u&&(clearInterval(u),u=null)}),Ee(ct,o=>{Array.isArray(o)&&qe(()=>{o.forEach(t=>{t&&typeof t.refreshData=="function"&&t.refreshData()})})},{deep:!0}),Ee(()=>b.nodes,o=>{qe(()=>{ct.value.forEach((t,y)=>{if(t&&typeof t.updateNodeData=="function"){const oe=ce.value[y]?String(ce.value[y].id):void 0;if(oe){const J=o.find(we=>String(we.id)===String(oe));J&&t.updateNodeData(J)}}})})},{deep:!0}),(o,t)=>{var y,oe,J,we,He,pe,Ne,ye,_e,Ie,Be,yt,_t,kt,St,wt,Et;return i(),r("div",ea,[e("div",{class:"header",style:Fe(gt.value?{backgroundImage:gt.value}:{})},[e("div",{class:"header-title",style:Fe(Ut.value)},[e("a",ta,[e("i",null,h(Mt.value),1)])],4),(y=N.value)!=null&&y.callsign?(i(),r("div",{key:0,class:"header-title2",style:Fe(Pt.value)},[(oe=N.value)!=null&&oe.myUrl?(i(),r("a",{key:0,href:vt(N.value.myUrl),target:pt(N.value.myUrl)?"_blank":"_self"},[e("i",null,h(N.value.callsign),1)],8,sa)):(i(),r("i",oa,h(N.value.callsign),1))],4)):E("",!0),e("div",na,[e("i",{innerHTML:k(Ye)(Rt())},null,8,aa)]),k(n).isAuthenticated?(i(),r("div",ia,[e("div",ra,[e("a",{href:"#",onClick:Ue(ms,["prevent"])},"Logout "+h((J=k(n).user)==null?void 0:J.name),1)])])):(i(),r("div",la,[e("a",{href:"#",onClick:t[0]||(t[0]=Ue(p=>K.value=!0,["prevent"]))},"Login")])),(we=N.value)!=null&&we.logoName?(i(),r("div",{key:3,class:"custom-logo",style:Fe(Lt.value)},[(He=N.value)!=null&&He.logoUrl?(i(),r("a",{key:0,href:vt(N.value.logoUrl),target:pt(N.value.logoUrl)?"_blank":"_self"},[e("img",{src:`/supermon-ng/user_files/${N.value.logoName}`,style:Fe({width:((pe=N.value)==null?void 0:pe.logoSize)||"15%",border:"0px"}),alt:"Custom Logo"},null,12,ca)],8,ua)):(i(),r("img",{key:1,src:`/supermon-ng/user_files/${N.value.logoName}`,style:Fe({width:((Ne=N.value)==null?void 0:Ne.logoSize)||"15%",border:"0px"}),alt:"Custom Logo"},null,12,da))],4)):E("",!0),(ye=N.value)!=null&&ye.logoName?E("",!0):(i(),r("div",va,[e("a",{href:(_e=N.value)!=null&&_e.logoUrl?vt(N.value.logoUrl):"https://www.allstarlink.org",target:(Ie=N.value)!=null&&Ie.logoUrl?pt(N.value.logoUrl)?"_blank":"_self":"_blank"},[...t[45]||(t[45]=[e("img",{src:Ms,width:"70%",style:{border:"0px"},alt:"Allstar Logo"},null,-1)])],8,pa)]))],4),I(Zn,{onNodeSelection:hs}),ve.value?(i(),r("div",ma,h(he.value),1)):E("",!0),bt.value?(i(),r("div",{key:1,class:"welcome-message",innerHTML:k(Ye)(bt.value)},null,8,fa)):E("",!0),$t.value?(i(),r("div",ha,[ce.value.length>0?(i(),r("div",ga,[ce.value.length>1?Me((i(),r("select",{key:0,"onUpdate:modelValue":t[1]||(t[1]=p=>D.value=p),class:"submit"},[(i(!0),r(be,null,De(ce.value,p=>(i(),r("option",{key:String(p.id),value:String(p.id),class:"submit"},h(p.id)+" => "+h(p.info||p.description||"Node not in database"),9,ba))),128))],512)),[[$s,D.value]]):ce.value.length===1?Me((i(),r("input",{key:1,type:"hidden","onUpdate:modelValue":t[2]||(t[2]=p=>D.value=p)},null,512)),[[Xe,D.value]]):(i(),r("input",{key:2,class:"submit",type:"hidden",value:ce.value[0]},null,8,ya)),Me(e("input",{"onUpdate:modelValue":t[3]||(t[3]=p=>_.value=p),type:"text",class:"submit",placeholder:"Node to connect/DTMF"},null,512),[[Xe,_.value]]),k(n).hasPermission("PERMUSER")?(i(),r("label",_a,[t[46]||(t[46]=ke(" Perm ",-1)),Me(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=p=>Z.value=p)},null,512),[[Rs,Z.value]])])):E("",!0),t[47]||(t[47]=e("br",null,null,-1))])):E("",!0),e("input",{type:"button",class:"submit",value:"Connect",onClick:xt}),e("input",{type:"button",class:"submit",value:"Disconnect",onClick:Ot}),k(n).hasPermission("MONUSER")?(i(),r("input",{key:1,type:"button",class:"submit",value:"Monitor",onClick:It})):E("",!0),k(n).hasPermission("LMONUSER")?(i(),r("input",{key:2,type:"button",class:"submit",value:"Local Monitor",onClick:Bt})):E("",!0),e("input",{type:"button",class:"submit",value:"Voter",onClick:t[5]||(t[5]=p=>lt.value=!0)}),k(n).hasPermission("DTMFUSER")?(i(),r("input",{key:3,type:"button",class:"submit",value:"DTMF",onClick:Ft})):E("",!0),k(n).hasPermission("ASTLKUSER")?(i(),r("input",{key:4,type:"button",class:"submit",value:"Lookup",onClick:Wt})):E("",!0),k(n).hasPermission("RSTATUSER")?(i(),r("input",{key:5,type:"button",class:"submit",value:"Rpt Stats",onClick:Ht})):E("",!0),k(n).hasPermission("BUBLUSER")?(i(),r("input",{key:6,type:"button",class:"submit",value:"Bubble",onClick:zt})):E("",!0),k(n).hasPermission("CTRLUSER")?(i(),r("input",{key:7,type:"button",class:"submit",value:"Control Panel",onClick:t[6]||(t[6]=p=>ge.value=!0)})):E("",!0),k(n).hasPermission("FAVUSER")?(i(),r("input",{key:8,type:"button",class:"submit",value:"Favorites",onClick:t[7]||(t[7]=p=>ae.value=!0)})):E("",!0),k(n).hasPermission("FAVUSER")?(i(),r("input",{key:9,type:"button",class:"submit",value:"Add Favorite",onClick:t[8]||(t[8]=p=>O.value=!0)})):E("",!0),k(n).hasPermission("FAVUSER")?(i(),r("input",{key:10,type:"button",class:"submit",value:"Delete Favorite",onClick:t[9]||(t[9]=p=>j.value=!0)})):E("",!0),t[48]||(t[48]=e("hr",{class:"button-separator"},null,-1)),k(n).hasPermission("CFGEDUSER")?(i(),r("input",{key:11,type:"button",class:"submit",value:"Configuration Editor",onClick:qt})):E("",!0),k(n).hasPermission("HWTOUSER")?(i(),r("input",{key:12,type:"button",class:"submit",value:"AllStar How To's",onClick:Zt})):E("",!0),k(n).hasPermission("WIKIUSER")?(i(),r("input",{key:13,type:"button",class:"submit",value:"AllStar Wiki",onClick:es})):E("",!0),k(n).hasPermission("CSTATUSER")?(i(),r("input",{key:14,type:"button",class:"submit",value:"CPU Status",onClick:ts})):E("",!0),k(n).hasPermission("ASTATUSER")?(i(),r("input",{key:15,type:"button",class:"submit",value:"AllStar Status",onClick:ss})):E("",!0),k(n).hasPermission("ACTNUSER")?(i(),r("input",{key:16,type:"button",class:"submit",value:"Active Nodes",onClick:os})):E("",!0),k(n).hasPermission("ALLNUSER")?(i(),r("input",{key:17,type:"button",class:"submit",value:"All Nodes",onClick:ns})):E("",!0),k(n).hasPermission("DBTUSER")?(i(),r("input",{key:18,type:"button",class:"submit",value:"Database",onClick:as})):E("",!0),k(n).hasPermission("LLOGUSER")?(i(),r("input",{key:19,type:"button",class:"submit",value:"Linux Log",onClick:is})):E("",!0),k(n).hasPermission("ASTLUSER")?(i(),r("input",{key:20,type:"button",class:"submit",value:"AST Log",onClick:rs})):E("",!0),k(n).hasPermission("WLOGUSER")?(i(),r("input",{key:21,type:"button",class:"submit",value:"Web Access Log",onClick:us})):E("",!0),k(n).hasPermission("WERRUSER")?(i(),r("input",{key:22,type:"button",class:"submit",value:"Web Error Log",onClick:cs})):E("",!0),k(n).hasPermission("ASTRELUSER")?(i(),r("input",{key:23,type:"button",class:"submit",value:"IAX2/Module RELOAD",onClick:Gt})):E("",!0),k(n).hasPermission("ASTSTRUSER")?(i(),r("input",{key:24,type:"button",class:"submit",value:"AST START",onClick:Xt})):E("",!0),k(n).hasPermission("ASTSTPUSER")?(i(),r("input",{key:25,type:"button",class:"submit",value:"AST STOP",onClick:Yt})):E("",!0),k(n).hasPermission("FSTRESUSER")?(i(),r("input",{key:26,type:"button",class:"submit",value:"RESTART",onClick:Jt})):E("",!0),k(n).hasPermission("RBTUSER")?(i(),r("input",{key:27,type:"button",class:"submit",value:"Server REBOOT",onClick:Qt})):E("",!0),k(n).hasPermission("GPIOUSER")?(i(),r("input",{key:28,type:"button",class:"submit",value:"GPIO",onClick:ls})):E("",!0),k(n).hasPermission("BANUSER")?(i(),r("input",{key:29,type:"button",class:"submit",value:"Access List",onClick:ds})):E("",!0),k(n).hasPermission("DVSWITCHUSER")?(i(),r("input",{key:30,type:"button",class:"submit",value:"DVSwitch Mode",onClick:t[10]||(t[10]=p=>ut.value=!0)})):E("",!0)])):E("",!0),e("p",ka,[e("input",{type:"button",class:"submit",value:"Display Configuration",onClick:t[11]||(t[11]=p=>L.value=!0)}),(Be=N.value)!=null&&Be.dvmUrl?(i(),r("input",{key:0,type:"button",class:"submit",value:"Digital Dashboard",onClick:Kt})):E("",!0),k(n).isAuthenticated&&k(n).hasPermission("SYSINFUSER")?(i(),r("input",{key:1,type:"button",class:"submit",value:"Node Status",onClick:jt})):E("",!0),k(n).isAuthenticated&&k(n).hasPermission("SYSINFUSER")?(i(),r("input",{key:2,type:"button",class:"submit",value:"System Info",onClick:vs})):E("",!0)]),e("div",Sa,[ce.value.length===0?(i(),r("div",wa," Select a node or group from the menu to display node tables ")):(i(),r("div",Ea,[(i(!0),r(be,null,De(ce.value,(p,Ss)=>(i(),mt(yn,{key:String(p.id),node:{id:String(p.id),info:p.info,callsign:p.callsign},"show-detail":!0,astdb:k(b).astdb,config:k(b).nodeConfig,ref_for:!0,ref:Tt=>{Tt&&(ct.value[Ss]=Tt)},onNodeClick:gs},null,8,["node","astdb","config"]))),128))]))]),t[50]||(t[50]=e("div",{class:"clearer"},null,-1)),(yt=N.value)!=null&&yt.maintainer?(i(),r("div",Ta,[e("b",null,[t[49]||(t[49]=ke("System maintained by: ",-1)),e("i",null,h(N.value.maintainer),1)])])):E("",!0),e("div",{id:"donate-section",style:{"margin-top":"10px","text-align":"center"}},[e("button",{id:"donatebutton",class:"submit-large",onClick:fs,style:{"background-color":"#6b4ce6",color:"white",border:"none",padding:"12px 24px","font-size":"1.1em","font-weight":"bold","border-radius":"6px",cursor:"pointer",transition:"background-color 0.3s ease"}}," 💝 Support This Project ")]),K.value?(i(),r("div",{key:4,class:"login-modal",onClick:t[14]||(t[14]=p=>K.value=!1)},[e("div",{class:"login-modal-content",onClick:t[13]||(t[13]=Ue(()=>{},["stop"]))},[I(Bn,{onLoginSuccess:ps,onLoginCancel:t[12]||(t[12]=p=>K.value=!1)})])])):E("",!0),I(k(s),{open:L.value,"onUpdate:open":t[15]||(t[15]=p=>L.value=p),onSettingsUpdated:bs},null,8,["open"]),I(k(a),{isVisible:O.value,"onUpdate:isVisible":t[16]||(t[16]=p=>O.value=p),"node-number":_.value,onFavoriteAdded:ys},null,8,["isVisible","node-number"]),I(k(c),{open:j.value,"onUpdate:open":t[17]||(t[17]=p=>j.value=p),onFavoriteDeleted:_s},null,8,["open"]),I(k(f),{open:ae.value,"onUpdate:open":t[18]||(t[18]=p=>ae.value=p),"local-node":D.value||R.value||String(((_t=ce.value[0])==null?void 0:_t.id)||""),onCommandExecuted:ks},null,8,["open","local-node"]),I(k(d),{open:re.value,"onUpdate:open":t[19]||(t[19]=p=>re.value=p)},null,8,["open"]),I(k(w),{open:fe.value,"onUpdate:open":t[20]||(t[20]=p=>fe.value=p)},null,8,["open"]),I(k(S),{open:ue.value,"onUpdate:open":t[21]||(t[21]=p=>ue.value=p),"local-node":_.value},null,8,["open","local-node"]),I(k($),{isVisible:ge.value,"onUpdate:isVisible":t[22]||(t[22]=p=>ge.value=p),"local-node":_.value||D.value||R.value||String(((kt=ce.value[0])==null?void 0:kt.id)||"")},null,8,["isVisible","local-node"]),I(k(V),{isVisible:Te.value,"onUpdate:isVisible":t[23]||(t[23]=p=>Te.value=p),"node-number":_.value},null,8,["isVisible","node-number"]),I(k(Q),{isVisible:Ce.value,"onUpdate:isVisible":t[24]||(t[24]=p=>Ce.value=p)},null,8,["isVisible"]),I(k(ne),{isVisible:Ve.value,"onUpdate:isVisible":t[25]||(t[25]=p=>Ve.value=p),localnode:D.value||R.value||String(((St=ce.value[0])==null?void 0:St.id)||"")},null,8,["isVisible","localnode"]),I(k(le),{isVisible:se.value,"onUpdate:isVisible":t[26]||(t[26]=p=>se.value=p)},null,8,["isVisible"]),I(k(M),{isVisible:Se.value,"onUpdate:isVisible":t[27]||(t[27]=p=>Se.value=p)},null,8,["isVisible"]),I(k(T),{isVisible:xe.value,"onUpdate:isVisible":t[28]||(t[28]=p=>xe.value=p),localnode:D.value||R.value},null,8,["isVisible","localnode"]),I(k(l),{isVisible:ze.value,"onUpdate:isVisible":t[29]||(t[29]=p=>ze.value=p)},null,8,["isVisible"]),I(k(W),{isVisible:Ze.value,"onUpdate:isVisible":t[30]||(t[30]=p=>Ze.value=p)},null,8,["isVisible"]),I(k(te),{isVisible:et.value,"onUpdate:isVisible":t[31]||(t[31]=p=>et.value=p),"available-nodes":Oe.value,"default-node":R.value,"displayed-nodes":ce.value},null,8,["isVisible","available-nodes","default-node","displayed-nodes"]),I(k(F),{isVisible:tt.value,"onUpdate:isVisible":t[32]||(t[32]=p=>tt.value=p)},null,8,["isVisible"]),I(k(H),{isVisible:st.value,"onUpdate:isVisible":t[33]||(t[33]=p=>st.value=p)},null,8,["isVisible"]),I(k(me),{isVisible:ft.value,"onUpdate:isVisible":t[34]||(t[34]=p=>ft.value=p)},null,8,["isVisible"]),I(k(Re),{isVisible:ot.value,"onUpdate:isVisible":t[35]||(t[35]=p=>ot.value=p),localnode:_.value},null,8,["isVisible","localnode"]),I(k(U),{isVisible:nt.value,"onUpdate:isVisible":t[36]||(t[36]=p=>nt.value=p)},null,8,["isVisible"]),I(k(q),{isVisible:at.value,"onUpdate:isVisible":t[37]||(t[37]=p=>at.value=p)},null,8,["isVisible"]),I(k(z),{show:lt.value,onClose:t[38]||(t[38]=p=>lt.value=!1)},null,8,["show"]),I(k(C),{isVisible:ut.value,"onUpdate:isVisible":t[39]||(t[39]=p=>ut.value=p),"local-node":D.value||R.value||String(((wt=ce.value[0])==null?void 0:wt.id)||"")},null,8,["isVisible","local-node"]),I(k(x),{open:it.value,"onUpdate:open":t[40]||(t[40]=p=>it.value=p)},null,8,["open"]),I(k(Y),{open:rt.value,"onUpdate:open":t[41]||(t[41]=p=>rt.value=p)},null,8,["open"]),I(k(P),{isVisible:dt.value,"onUpdate:isVisible":t[42]||(t[42]=p=>dt.value=p),url:((Et=N.value)==null?void 0:Et.dvmUrl)||""},null,8,["isVisible","url"]),I(k(ie),{isVisible:Ke.value,"onUpdate:isVisible":t[43]||(t[43]=p=>Ke.value=p),onClose:t[44]||(t[44]=p=>Ke.value=!1)},null,8,["isVisible"])])}}}),Aa=Pe(Ca,[["__scopeId","data-v-9b802d24"]]),La=Object.freeze(Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"}));export{La as D,Ye as s};
//# sourceMappingURL=Dashboard-DJDIjG9x.js.map
