{"version":3,"file":"DisplayConfig-CMoneDrY.js","sources":["../../src/components/DisplayConfig.vue"],"sourcesContent":["<template>\n  <div v-if=\"open\" class=\"display-config-modal\" @click=\"closeModal\">\n    <div class=\"display-config-content\" @click.stop>\n      <div class=\"display-config-header\">\n        <h2>Supermon Display Settings</h2>\n        <button class=\"close-button\" @click=\"closeModal\">&times;</button>\n      </div>\n      \n      <!-- Error Message -->\n      <div v-if=\"error\" class=\"error-message\">\n        <p>{{ error }}</p>\n      </div>\n\n      <form @submit.prevent=\"saveSettings\" class=\"display-config-form\">\n        <table class=\"display-config-table\">\n          <tbody>\n            <tr>\n              <td valign=\"top\">\n                Display Detailed View<br>\n                <input \n                  type=\"radio\" \n                  class=\"display-config-radio display-config-radio-top\" \n                  name=\"show_detailed\" \n                  value=\"1\" \n                  v-model=\"settings.show_detailed\"\n                > YES\n                <input \n                  type=\"radio\" \n                  class=\"display-config-radio display-config-radio-spaced\" \n                  name=\"show_detailed\" \n                  value=\"0\" \n                  v-model=\"settings.show_detailed\"\n                > NO<br>\n              </td>\n            </tr>\n            <tr>\n              <td valign=\"top\">\n                Show Date/Time Display<br>\n                <input\n                  type=\"radio\"\n                  class=\"display-config-radio display-config-radio-top\"\n                  name=\"show_date_time\"\n                  value=\"1\"\n                  v-model=\"settings.show_date_time\"\n                > YES\n                <input\n                  type=\"radio\"\n                  class=\"display-config-radio display-config-radio-spaced\"\n                  name=\"show_date_time\"\n                  value=\"0\"\n                  v-model=\"settings.show_date_time\"\n                > NO<br>\n              </td>\n            </tr>\n            <tr>\n              <td valign=\"top\">\n                Show the number of connections (Displays x of y)<br>\n                <input \n                  type=\"radio\" \n                  class=\"display-config-radio display-config-radio-top\" \n                  name=\"show_number\" \n                  value=\"1\" \n                  v-model=\"settings.show_number\"\n                > YES\n                <input \n                  type=\"radio\" \n                  class=\"display-config-radio display-config-radio-spaced\" \n                  name=\"show_number\" \n                  value=\"0\" \n                  v-model=\"settings.show_number\"\n                > NO<br>\n              </td>\n            </tr>\n            <tr>\n              <td valign=\"top\">\n                Show ALL Connections (NO omits NEVER Keyed)<br>\n                <input \n                  type=\"radio\" \n                  class=\"display-config-radio display-config-radio-top\" \n                  name=\"show_all\" \n                  value=\"1\" \n                  v-model=\"settings.show_all\"\n                > YES\n                <input \n                  type=\"radio\" \n                  class=\"display-config-radio display-config-radio-spaced\" \n                  name=\"show_all\" \n                  value=\"0\" \n                  v-model=\"settings.show_all\"\n                > NO<br>\n              </td>\n            </tr>\n            <tr>\n              <td valign=\"top\">\n                Maximum Number of Connections to Display in Each Node (0=ALL)<br><br>\n                <input \n                  type=\"text\" \n                  class=\"display-config-input\" \n                  name=\"number_displayed\" \n                  v-model=\"settings.number_displayed\" \n                  maxlength=\"4\" \n                  size=\"3\"\n                >\n              </td>\n            </tr>\n            <tr>\n              <td align=\"center\">\n                <input type=\"submit\" class=\"submit-large\" value=\"Update\">\n                <input type=\"button\" class=\"submit-large\" value=\"Close Window\" @click=\"closeModal\">\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch, onMounted } from 'vue'\nimport { api } from '@/utils/api'\nimport type { AxiosErrorResponse } from '@/types/api'\n\ninterface Props {\n  open: boolean\n}\n\ninterface DisplaySettings {\n  'show-detailed'?: string\n  'show-date-time'?: string\n  'show-number'?: string\n  'show-all'?: string\n  'number-displayed'?: string\n}\n\ninterface Emits {\n  (e: 'update:open', value: boolean): void\n  (e: 'settings-updated', settings: DisplaySettings): void\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<Emits>()\n\nconst settings = ref({\n  show_detailed: '1',\n  show_date_time: '1',\n  show_number: '0',\n  show_all: '1',\n  number_displayed: '0'\n})\n\nconst loading = ref(false)\nconst error = ref('')\n\nconst closeModal = () => {\n  emit('update:open', false)\n  error.value = ''\n}\n\nconst loadSettings = async () => {\n  try {\n    loading.value = true\n    error.value = ''\n    const response = await api.get('/config/display')\n    if (response.data.success) {\n      const data = response.data.data\n      settings.value = {\n        show_detailed: data['show-detailed'] || '1',\n        show_date_time: data['show-date-time'] || '1',\n        show_number: data['show-number'] || '0',\n        show_all: data['show-all'] || '1',\n        number_displayed: data['number-displayed'] || '0'\n      }\n    } else {\n      error.value = response.data.message || 'Failed to load display settings'\n    }\n  } catch (err: unknown) {\n    const axiosError = err as AxiosErrorResponse\n    error.value = axiosError.response?.data?.message || 'Failed to load display settings. Please try again.'\n    console.error('Failed to load display settings:', err)\n  } finally {\n    loading.value = false\n  }\n}\n\nconst saveSettings = async () => {\n  try {\n    loading.value = true\n    error.value = ''\n    const response = await api.put('/config/display', {\n      show_detailed: settings.value.show_detailed,\n      show_date_time: settings.value.show_date_time,\n      show_number: settings.value.show_number,\n      show_all: settings.value.show_all,\n      number_displayed: settings.value.number_displayed\n    })\n    \n    if (response.data.success) {\n      // Emit the updated settings to parent\n      emit('settings-updated', response.data.data)\n      closeModal()\n    } else {\n      error.value = response.data.message || 'Failed to save display settings'\n    }\n  } catch (err: unknown) {\n    const axiosError = err as AxiosErrorResponse\n    error.value = axiosError.response?.data?.message || 'Failed to save display settings. Please try again.'\n    console.error('Failed to save display settings:', err)\n  } finally {\n    loading.value = false\n  }\n}\n\n// Load settings when modal opens\nwatch(() => props.open, (newOpen) => {\n  if (newOpen) {\n    loadSettings()\n  }\n})\n\n// Load settings on mount if modal is open\nonMounted(() => {\n  if (props.open) {\n    loadSettings()\n  }\n})\n</script>\n\n<style scoped>\n.display-config-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.display-config-content {\n  background-color: #1a1a1a;\n  border: 1px solid #333;\n  border-radius: 8px;\n  padding: 20px;\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.display-config-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #333;\n  padding-bottom: 10px;\n}\n\n.display-config-header h2 {\n  margin: 0;\n  color: #fff;\n  font-size: 1.5em;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 24px;\n  cursor: pointer;\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.close-button:hover {\n  background-color: #333;\n  border-radius: 4px;\n}\n\n.display-config-form {\n  width: 100%;\n}\n\n.display-config-table {\n  width: 100%;\n  border-collapse: collapse;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.display-config-table td {\n  padding: 10px;\n  color: #fff;\n  vertical-align: top;\n}\n\n.display-config-radio {\n  margin-right: 5px;\n}\n\n.display-config-radio-top {\n  margin-top: 5px;\n}\n\n.display-config-radio-spaced {\n  margin-left: 15px;\n}\n\n.display-config-input {\n  background-color: #333;\n  border: 1px solid #555;\n  color: #fff;\n  padding: 5px;\n  border-radius: 4px;\n}\n\n.display-config-input:focus {\n  outline: none;\n  border-color: #007bff;\n}\n\n.submit-large {\n  background-color: #007bff;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  margin: 5px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.submit-large:hover {\n  background-color: #0056b3;\n}\n\n.submit-large:active {\n  background-color: #004085;\n}\n\n.error-message {\n  background-color: rgba(244, 67, 54, 0.1);\n  border: 1px solid #f44336;\n  color: #f44336;\n  padding: 12px;\n  margin-bottom: 15px;\n  border-radius: 4px;\n}\n\n.error-message p {\n  margin: 0;\n  font-size: 0.9rem;\n}\n</style>\n"],"names":["props","__props","emit","__emit","settings","ref","loading","error","closeModal","loadSettings","response","api","data","err","axiosError","_b","_a","saveSettings","watch","newOpen","onMounted","_createElementBlock","_createElementVNode","_cache","_openBlock","_hoisted_1","_hoisted_2","_hoisted_3","$event","_vModelRadio","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_vModelText"],"mappings":"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"}