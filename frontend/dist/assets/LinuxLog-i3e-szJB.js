import{r as c,w as x,f as r,l as u,k as d,g as e,t as n,C as h,h as k}from"./vendor-BDu8AGUg.js";import{_ as b,a as V}from"./index-ixAHyd21.js";const w={class:"modal-body"},C={key:0,class:"loading"},B={key:1,class:"error-message"},S={key:2,class:"log-display"},D={class:"log-header"},N={class:"timestamp"},F={class:"log-info"},M={class:"log-content-container"},T={class:"log-content"},E={__name:"LinuxLog",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(m,{emit:g}){const f=m,_=g,i=c(!1),a=c(""),t=c(null);x(()=>f.isVisible,o=>{o?y():p()});const v=()=>{_("update:isVisible",!1),p()},p=()=>{i.value=!1,a.value="",t.value=null},y=async()=>{var o,s;i.value=!0,a.value="",t.value=null;try{const l=await V.post("/nodes/linuxlog",{},{timeout:3e4});l.data.success?t.value=l.data.data:a.value=l.data.message||"Failed to retrieve Linux system log"}catch(l){console.error("Linux Log error:",l),a.value=((s=(o=l.response)==null?void 0:o.data)==null?void 0:s.message)||"Failed to retrieve Linux system log"}finally{i.value=!1}},L=o=>o?new Date(o).toLocaleString():"";return(o,s)=>m.isVisible?(d(),r("div",{key:0,class:"modal-overlay",onClick:v},[e("div",{class:"modal-content",onClick:s[0]||(s[0]=k(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[1]||(s[1]=e("h3",null,"Linux System Log Viewer",-1)),e("button",{class:"close-button",onClick:v},"Ã—")]),e("div",w,[i.value?(d(),r("div",C,[...s[2]||(s[2]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading Linux system logs...",-1)])])):u("",!0),a.value?(d(),r("div",B,[e("p",null,n(a.value),1)])):u("",!0),t.value?(d(),r("div",S,[e("div",D,[e("h4",null,n(t.value.description),1),e("span",N,n(L(t.value.timestamp)),1)]),e("div",F,[e("p",null,[s[3]||(s[3]=e("strong",null,"Command:",-1)),h(" "+n(t.value.command),1)])]),e("div",M,[e("pre",T,n(t.value.content),1)])])):u("",!0)])])])):u("",!0)}},q=b(E,[["__scopeId","data-v-78b3f23c"]]);export{q as default};
//# sourceMappingURL=LinuxLog-i3e-szJB.js.map
