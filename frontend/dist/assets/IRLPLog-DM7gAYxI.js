import{r as u,w as k,f as n,l as r,k as d,g as e,t as c,C as I,h as b}from"./vendor-BDu8AGUg.js";import{_ as h,a as V}from"./index-Cd0Rm2MK.js";const P={class:"modal-body"},R={key:0,class:"loading"},w={key:1,class:"error-message"},C={key:2,class:"log-display"},x={class:"log-header"},B={class:"timestamp"},D={class:"log-info"},F={class:"log-content-container"},M={class:"log-content"},N={__name:"IRLPLog",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(v,{emit:m}){const f=v,_=m,i=u(!1),t=u(""),o=u(null);k(()=>f.isVisible,l=>{l?L():g()});const p=()=>{_("update:isVisible",!1),g()},g=()=>{i.value=!1,t.value="",o.value=null},L=async()=>{var l,s;i.value=!0,t.value="",o.value=null;try{const a=await V.post("/nodes/irlplog");a.data.success?o.value=a.data.data:t.value=a.data.message||"Failed to retrieve IRLP log"}catch(a){console.error("IRLP Log error:",a),t.value=((s=(l=a.response)==null?void 0:l.data)==null?void 0:s.message)||"Failed to retrieve IRLP log"}finally{i.value=!1}},y=l=>l?new Date(l).toLocaleString():"";return(l,s)=>v.isVisible?(d(),n("div",{key:0,class:"modal-overlay",onClick:p},[e("div",{class:"modal-content",onClick:s[0]||(s[0]=b(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[1]||(s[1]=e("h3",null,"IRLP Log Viewer",-1)),e("button",{class:"close-button",onClick:p},"Ã—")]),e("div",P,[i.value?(d(),n("div",R,[...s[2]||(s[2]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading IRLP log file...",-1)])])):r("",!0),t.value?(d(),n("div",w,[e("p",null,c(t.value),1)])):r("",!0),o.value?(d(),n("div",C,[e("div",x,[s[3]||(s[3]=e("h4",null,"IRLP Messages Log",-1)),e("span",B,c(y(o.value.timestamp)),1)]),e("div",D,[e("p",null,[s[4]||(s[4]=e("strong",null,"File:",-1)),I(" "+c(o.value.file_path),1)])]),e("div",F,[e("pre",M,c(o.value.content),1)])])):r("",!0)])])])):r("",!0)}},E=h(N,[["__scopeId","data-v-b516f726"]]);export{E as default};
//# sourceMappingURL=IRLPLog-DM7gAYxI.js.map
