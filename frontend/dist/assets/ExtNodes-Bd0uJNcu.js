import{r as c,w as k,f as i,l as r,k as d,g as e,t as u,h as b}from"./vendor-BDu8AGUg.js";import{_ as h,a as N}from"./index-Cd0Rm2MK.js";const V={class:"modal-body"},E={key:0,class:"loading"},w={key:1,class:"error-message"},C={key:2,class:"extnodes-display"},B={class:"file-header"},D={class:"timestamp"},F={class:"file-content"},S={__name:"ExtNodes",props:{isVisible:{type:Boolean,default:!1}},emits:["update:isVisible"],setup(v,{emit:m}){const _=v,x=m,n=c(!1),o=c(""),a=c(null);k(()=>_.isVisible,t=>{t?g():f()});const p=()=>{x("update:isVisible",!1),f()},f=()=>{n.value=!1,o.value="",a.value=null},g=async()=>{var t,s;n.value=!0,o.value="",a.value=null;try{const l=await N.post("/nodes/extnodes");l.data.success?a.value=l.data.data:o.value=l.data.message||"Failed to retrieve external nodes configuration"}catch(l){console.error("ExtNodes error:",l),o.value=((s=(t=l.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to retrieve external nodes configuration"}finally{n.value=!1}},y=t=>t?new Date(t).toLocaleString():"";return(t,s)=>v.isVisible?(d(),i("div",{key:0,class:"modal-overlay",onClick:p},[e("div",{class:"modal-content",onClick:s[0]||(s[0]=b(()=>{},["stop"]))},[e("div",{class:"modal-header"},[s[1]||(s[1]=e("h3",null,"External Nodes Configuration",-1)),e("button",{class:"close-button",onClick:p},"Ã—")]),e("div",V,[n.value?(d(),i("div",E,[...s[2]||(s[2]=[e("div",{class:"spinner"},null,-1),e("p",null,"Retrieving external nodes configuration...",-1)])])):r("",!0),o.value?(d(),i("div",w,[e("p",null,u(o.value),1)])):r("",!0),a.value?(d(),i("div",C,[e("div",B,[e("h4",null,"File: "+u(a.value.file_path),1),e("span",D,u(y(a.value.timestamp)),1)]),s[3]||(s[3]=e("div",{class:"separator"},null,-1)),e("pre",F,u(a.value.content),1)])):r("",!0)])])])):r("",!0)}},L=h(S,[["__scopeId","data-v-232e109b"]]);export{L as default};
//# sourceMappingURL=ExtNodes-Bd0uJNcu.js.map
